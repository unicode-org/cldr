<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Locale Data Interchange Format</title>
<style>
<!--
.element2    { font-family: monospace; font-size: 95%; font-weight: bold }
.ed_note     { color: #FF0000; font-style: italic; font-weight: bold }
.comment     { color: #00CC00 }
.example     { font-style: italic }
.note        { font-style: italic; margin-left: 2em; margin-right: 2em }
th           { background-color: #9999CC; border-style: solid; border-width: 1px; padding: 4 }
td           { background-color: #CCCCFF; border-style: solid; border-width: 1px; padding: 4 }
table        { border-style: solid; border-width: 1px }
.white       { background-color: #FFFFFF }
caption      { font-size: 133%; font-weight: bold; margin-bottom: 0.5em }
.changed     { background-color: #FFFF00; border-style: dotted; border-width: 1px }
.noStyle     {  }
-->
</style>
</head>

<body bgcolor="#FFFFFF">

<h1 align="center">Locale Data Markup Language</h1>
<table cellspacing="0" width="100%">
  <tr>
    <td class="white" height="27"><i>Summary:</i></td>
    <td class="white" height="27">This document describes an XML format (<i>vocabulary</i>) 
      for the exchange of structured locale data. For more information, see the <a href="http://www.openi18n.org/subgroups/lade/locale/index.htm">openI18n 
      page.</a></td>
  </tr>
  <tr>
    <td class="white" height="27"><i>Version:</i></td>
    <td class="white" height="27"><font color="#FF0000"><b>1.0 (draft)</b></font></td>
  </tr>
  <tr>
    <td class="white" height="27"><i>Date:</i></td>
    <td class="white" height="27">2003-06-06</td>
  </tr>
  <tr>
    <td class="white" height="25"><i>Author:</i></td>
    <td class="white" height="25">Mark Davis</td>
  </tr>
  <tr>
    <td class="white" height="27"><i>Latest Version:</i></td>
    <td class="white" height="27"><a href="http://oss.software.ibm.com/cvs/icu/~checkout~/locale/locale_data_markup.html">http://oss.software.ibm.com/cvs/icu/~checkout~/locale/locale_data_markup.html</a></td>
  </tr>
  <tr>
    <td class="white" height="27"><i>Older Versions:</i></td>
    <td class="white" height="27"><a href="http://oss.software.ibm.com/cvs/icu/locale/locale_data_markup.html">http://oss.software.ibm.com/cvs/icu/locale/locale_data_markup.html</a></td>
  </tr>
  <tr>
    <td class="white" height="27"><i>Feedback:</i></td>
    <td class="white" height="27"><a href="http://www.openi18n.org/locale-bugs/public">http://www.openi18n.org/locale-bugs/public</a></td>
  </tr>
  <tr>
    <td class="white" height="27"><i>License:</i></td>
    <td class="white" height="27">See <a href="#Copyright_and_Permission_Notice">Copyright 
      and Permission Notice</a></td>
  </tr>
</table>
<h2><a name="Contents">Contents</a></h2>
<ul>
  <li><a href="#Introduction">Introduction</a></li>
  <li><a href="#Locale">What is a Locale?</a></li>
  <li><a href="#Locale_IDs">Locale IDs</a></li>
  <li><a href="#Locale_Inheritance">Locale Inheritance</a></li>
  <li><a href="#Data_Access">Data Access</a></li>
  <li><a href="#Additional_Data_Sources">Additional Data Sources</a></li>
  <li><a href="#XML_Format">XML Format</a>
    <ul>
      <li><a href="#Common_Elements">Common Elements</a></li>
      <li><a href="#Common_Attributes">Common Attributes</a></li>
      <li><a href="#&lt;identity&gt;">&lt;identity&gt;</a></li>
      <li><a href="#&lt;localeDisplayNames&gt;">&lt;localeDisplayNames&gt;</a></li>
      <li><a href="#&lt;layout&gt;">&lt;layout&gt;</a></li>
      <li><a href="#&lt;encodings&gt;">&lt;encodings&gt;</a></li>
      <li><a href="#&lt;delimiters&gt;">&lt;delimiters&gt;</a></li>
      <li><a href="#&lt;measurement&gt;">&lt;measurement&gt;</a></li>
      <li><a href="#&lt;dates&gt;">&lt;dates&gt;</a>
        <ul>
          <li><a href="#&lt;localizedPatternChars&gt;">&lt;localizedPatternChars&gt;</a></li>
          <li><a href="#&lt;calendars&gt;">&lt;calendars&gt;</a></li>
          <li><a href="#&lt;timeZoneNames&gt;">&lt;timeZoneNames&gt;</a></li>
        </ul>
      </li>
      <li><a href="#&lt;numbers&gt;">&lt;numbers&gt;</a>
        <ul>
          <li><a href="#&lt;symbols&gt;">&lt;symbols&gt;</a></li>
          <li><a href="#&lt;numberFormats&gt;">&lt;numberFormats&gt;</a></li>
          <li><a href="#&lt;currencies&gt;">&lt;currencies&gt;</a></li>
        </ul>
      </li>
      <li><a href="#&lt;collations&gt;">&lt;collations&gt;</a>
        <ul>
          <li><a href="#&lt;collation&gt;">&lt;collation&gt;</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#Sample_Special_Elements">Appendix A: Sample Special Elements</a>
    <ul>
      <li><a href="#OpenOffice">openoffice.org</a></li>
      <li><a href="#ICU">ICU</a>
        <ul>
          <li><a href="#&lt;ruleBasedNumberFormat&gt;">&lt;ruleBasedNumberFormat&gt;</a></li>
          <li><a href="#&lt;boundaries&gt;">&lt;boundaries&gt;</a></li>
          <li><a href="#&lt;transforms&gt;">&lt;transforms&gt;</a></li>
        </ul>
      </li>
      <li><a href="#POSIX">POSIX</a></li>
      <li><a href="#ISO_TR_14652">ISO TR 14652</a></li>
    </ul>
  </li>
  <li><a href="#Transmitting_Locale_Information">Appendix B: Transmitting Locale 
    Information</a>
    <ul>
      <li><a href="#Message_Formatting_and_Exceptions">Message Formatting and 
        Exceptions</a></li>
    </ul>
  </li>
  <li><a href="#Supplemental_Data">Appendix C: Supplemental Data</a></li>
  <li>
    <p class="noStyle"><a href="#Language_and_Locale_IDs">Appendix D: Language 
    and Locale IDs</a></li>
  <li>
    <p class="changed"><a href="#Copyright_and_Permission_Notice">Copyright and 
    Permission Notice</a></li>
</ul>
<h2><a name="Introduction">Introduction</a></h2>
<p>Not long ago, computer systems were like separate worlds, isolated from one 
another. The internet and related events have changed all that. A single system 
can be built of many different components, hardware and software, all needing to 
work together. Many different technologies have been important in bridging the 
gaps; in the internationalization arena, Unicode has provided a lingua franca 
for communicating textual data. But there remain differences in the locale data 
used by different systems.</p>
<p>Common, recommended practice for internationalization is to store and 
communicate language-neutral data, and format that data for the client. This 
formatting can take place on any of a number of the components in a system; a 
server might format data based on the user's locale, or it could be that a 
client machine does the formatting. The same goes for parsing data, and 
locale-sensitive analysis of data.</p>
<p>But there remain significant differences across systems and applications in 
the locale-sensitive data used for such formatting, parsing, and analysis. Many 
of those differences are simply gratuitous; all within acceptable limits for 
human beings, but resulting in different results. In many other cases there are 
outright errors. Whatever the cause, the differences can cause discrepancies to 
creep into a heterogeneous system. This is especially serious in the case of 
collation (sort-order), where different collation caused not only ordering 
differences, but also different results of queries! That is, with a query of 
customers with names between &quot;Arnold, James&quot; and &quot;Abbot, 
Cosmo&quot;, if different systems have different sort orders, different lists 
will be returned. (For comparisons across systems formatted as HTML tables, see <a href="http://oss.software.ibm.com/cvs/icu/locale/all_diff_xml/">Comparisons</a>.)</p>
<p>There are a number of steps that can be taken to improve the situation. The 
first is to provide an XML format for locale data interchange. This provides a 
common format for systems to interchange data so that they can get the same 
results. The second is to gather up locale data from different systems, and 
compare that data to find any differences. The third is to provide an online 
repository for such data. The fourth is to have an open process for reconciling 
differences between the locale data used on different systems and validating the 
data, to come up with a useful, common, consistent base of locale data.</p>
<p class="note"><b>Note:</b> There are many different equally valid ways in 
which data can be judged to be &quot;correct&quot; for a particular locale. The 
goal for the common locale data is to make it as consistent as possible with 
existing locale data, and acceptable to users in that locale.</p>
<p>This document describes one of those pieces, an XML format for the 
communication of locale data. With it, for example, collation rules can be 
exchanged, allowing two implementations to exchange a specification of 
collation. Using the same specification, the two implementations will achieve 
the same results in comparing strings.</p>
<h2><a name="Additional_Data_Sources">Additional Data Sources</a></h2>
<p>To properly localize, parse, and format data requires ancillary information, 
which is not expressed in LDML. The sources for this data include:</p>
<ul>
  <li>The <a href="http://www.unicode.org/ucd/">Unicode Character Database</a> 
    (UCD)
    <ul>
      <li>For character properties, casing behavior, default line-, word-, 
        clusterbreaking behavior, etc.</li>
    </ul>
  </li>
  <li>The <a href="http://www.unicode.org/reports/tr10/#Default_Unicode_Collation_Element_Table">Default 
    Unicode Collation Element Table</a> (DUCET)
    <ul>
      <li>For the base-level collation, of which all the collation tables in 
        this document are tailorings.</li>
    </ul>
  </li>
  <li>The <a href="ftp://elsie.nci.nih.gov/pub/">Olson Data</a>
    <ul>
      <li>For timezone and daylight savings information.</li>
    </ul>
  </li>
  <li>The Common Locale Repository <a href="#Supplemental_Data">Supplemental 
    Data</a></li>
</ul>
<p>In addition, various standards define codes that are used as keys or values 
in LDML. These include:</p>
<ul>
  <li><a href="http://www.ietf.org/rfc/rfc3066.txt">RFC 3066</a> (language 
    codes)
    <ul>
      <li><a href="http://www.evertype.com/standards/iso639/iana-lang-assignments.html">RFC 
        3066 -- Language code assignments</a></li>
    </ul>
  <li><a href="http://lcweb.loc.gov/standards/iso639-2/">ISO 639</a> (language 
    codes)
    <ul>
      <li><a href="http://www.loc.gov/standards/iso639-2/langcodes.html">Actual 
        List</a></li>
    </ul>
  <li><a href="http://www.iso.org/iso/en/prods-services/iso3166ma/index.html">ISO 
    3166</a> (region codes)
    <ul>
      <li><a href="http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html">Actual 
        List</a></li>
    </ul>
  <li><a href="http://www.evertype.com/standards/iso15924/">ISO 15924</a> 
    (script codes: <i>draft</i>)
    <ul>
      <li><a href="http://www.evertype.com/standards/iso15924/document/dis15924.pdf">Older 
        version with Actual List</a></li>
    </ul>
  <li><a class="btmlink" href="http://www.bsi-global.com/Portfolio+of+Products+and+Services/Books+Guides/Consumer/th42090.xalter">ISO 
    4217</a> (currency codes)
    <ul>
      <li><a href="http://www.bsi-global.com/Technical+Information/Publications/_Publications/tig90x.doc">Actual 
        List</a> (may not work in the future, since BSI wants £205 for the 
        list).</li>
    </ul>
  <li>
    <p class="noStyle"><a href="http://www.evertype.com/standards/iso15924/">ISO 
    15924</a> (script codes)
    <ul>
      <li>
        <p class="noStyle"><a href="http://www.evertype.com/standards/iso15924/document/dis15924.pdf">Older 
        version with Actual List</a></li>
    </ul>
  </li>
</ul>
<p class="noStyle">Other sources that may be useful for comparison include:</p>
<ul>
  <li>
    <p class="noStyle">Windows <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpref/html/frlrfSystemGlobalizationCultureInfoClassTopic.asp">Culture 
    Info</a> (with&nbsp; mappings from RFC 3066-style codes to LCIDs)</li>
  <li>
    <p class="noStyle">Java <a href="http://java.sun.com/j2se/1.4.1/docs/api/java/util/Locale.html" target="classFrame">Locale</a></li>
</ul>
<h2><a name="Locale">What is a locale?</a></h2>
<p>Before diving into the XML structure, it is helpful to describe the model 
behind the structure. People do not have to subscribe to this model to use the 
data, but they do need to understand it so that the data can be correctly 
translated into whatever model their implementation uses.</p>
<p>The first issue is basic: what is a locale? In this document, a locale is an 
id that refers to a set of user preferences that tend to be shared across 
significant swathes of the world. Traditionally, the data associated with this 
id provides support for formatting and parsing of dates, times, numbers, and 
currencies; for measurement units, for sort-order (collation), plus translated 
names for timezones, languages, countries, and scripts. They can also include 
text boundaries (character, word, line, and sentence), text transformations 
(including transliterations), and support for other services.</p>
<p>Locale data is not cast in stone: the data used on someone's machine 
generally may reflect the US format, for example, but preferences can typically 
set to override particular items, such as setting the data format for 
2002.03.15, or using metric vs. Imperial measurement units. In the abstract, 
locales are simply one of many sets of preferences that, say, a website may want 
to remember for a particular user. Depending on the application, it may want to 
also remember the user's timezone, preferred currency, preferred character set, 
smoker/non-smoker preference, meal preference (vegetarian, kosher, etc.), music 
preference, religion, party affiliation, favorite charity, etc.</p>
<p>Locale data in a system may also change over time: country boundaries change; 
governments (and currencies) come and go: committees impose new standards; bugs 
are found and fixed in the source data; and so on. Thus the data needs to be 
versioned for stability over time.</p>
<p>In general terms, the locale id is a parameter that is supplied to a 
particular service (date formatting, sorting, spell-checking, etc.). The format 
in this document does not attempt to collect together all the data that could 
conceivably be used by all possible services. Instead, it collects together data 
that is in common use in systems and internationalization libraries for basic 
services. The main difference among locales is in terms of language; there may 
also be some differences according to different countries or regions.</p>
<p class="note"><b>Note: </b>As far as we are concerned — <i>as a completely 
practical matter</i> — two languages are different if they require 
substantially different localized resources. Distinctions according to spoken 
form are important in some contexts, but the written form is <i>by far and away</i> 
the most important issue for data interchange. Unfortunately, this is not the 
principle used in ISO 639, which has the unproductive notion that only spoken 
language matters (it is also not completely consistent about this, however). RFC 
3066 <i><b>can</b></i> express a difference if the use of written languages 
happens to correspond to region boundaries expressed as ISO 639 country codes, 
but in many cases this is not true. For example, both simplified and traditional 
Chinese are used in Hong Kong S.A.R.; both Cyrillic and Latin are used in 
Serbia, Azerbaijan, and Uzbekistan; Indic languages are customarily written in 
different scripts, etc.</p>
<p>We will speak of data as being &quot;in locale X&quot;. That does not imply 
that a locale <i>is</i> a collection of data; it is simply shorthand for 
&quot;the set of data associated with the locale id X&quot;. Each individual 
piece of data is called a <i>resource</i>, and a tag indicating the key of 
resource is called a <i>resource tag.</i></p>
<h2><a name="Locale_IDs">Locale IDs</a></h2>
<p>A locale id consists of the following format:</p>
<blockquote>
  <pre><i>locale_id</i> := <i>base_locale_id</i> <i>options</i>?</pre>
  <pre><i>base_locale_id</i> := <i>language_code </i>(&quot;_&quot; <i>script_code)? </i>(&quot;_&quot; <i>territory_code)? </i>(&quot;_&quot; <i>variant_code</i>)?</pre>
  <pre><i>options</i> := &quot;@&quot; <i>key</i> &quot;=&quot; <i>type</i> (&quot;,&quot; <i>key</i> &quot;=&quot; <i>type</i> )*</pre>
</blockquote>
<p class="noStyle">As usual x? means that x is optional; x* means that x occurs 
zero or more times.</p>
<p class="noStyle">The field values are given in the following table. All field 
values are case-insensitive, except for the key and type, which are 
case-sensitive. However, customarily the language code is lowercase, the 
territory and variant codes are uppercase, and the script code is titlecase 
(that is, first character uppercase and other characters lowercase).</p>
<table border="1">
  <caption>Locale Field Definitions</caption>
  <tr>
    <th>Field</th>
    <th>Allowable Characters</th>
    <th>Allowable values</th>
  </tr>
  <tr>
    <td><i>language_code</i></td>
    <td>ASCII letters</td>
    <td class="noStyle"><a href="http://www.chemie.fu-berlin.de/diverse/doc/ISO_639.html">ISO-639</a> 
      2-letter codes where they exist; otherwise 3-letter codes (the mapping 
      between 2-letter codes and 3-letter codes is not part of this format.), <i>or</i> 
      <a href="http://www.ietf.org/rfc/rfc3066.txt">RFC 3066</a> codes that do 
      not contain script or territory codes.</td>
  </tr>
  <tr>
    <td class="noStyle"><i>script_code</i></td>
    <td class="noStyle">ASCII letters</td>
    <td class="noStyle"><a href="http://www.evertype.com/standards/iso15924/">ISO 
      15924</a> 4-letter codes. In most cases the script is implicit, since the 
      language is only customarily written in a single script.</td>
  </tr>
  <tr>
    <td><i>territory_code</i></td>
    <td>ASCII letters</td>
    <td><a href="http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html">ISO-3166</a> 
      2-letter codes. Also known as a country_code, although the territories may 
      not be countries.</td>
  </tr>
  <tr>
    <td><i>variant_code</i></td>
    <td>ASCII letters</td>
    <td rowspan="3"><i>described below</i></td>
  </tr>
  <tr>
    <td><i>key</i></td>
    <td>ASCII letters and digits</td>
  </tr>
  <tr>
    <td><i>type</i></td>
    <td>ASCII letters, digits, and &quot;-&quot;</td>
  </tr>
</table>
<p><i>Examples:</i></p>
<blockquote>
  <pre>en
fr_BE
de_DE@collation=phonebook,currency=pre-euro</pre>
</blockquote>
<p>The locale id format generally follows the description in the <a href="http://www.li18nux.org/docs/text/LocNameGuide-V10.txt">OpenI18N 
Locale Naming Guideline</a>, with some enhancments. The main differences from 
the those guidelines are that the locale id:</p>
<ol type="a">
  <li>does not include a charset (since the data in the locale is always in 
    Unicode),</li>
  <li>adds the ability to have a variant, as in Java</li>
  <li>
    <p class="noStyle">adds the ability to discriminate the written language by 
    script (or script variant).</li>
  <li>
    <p class="noStyle">is a superset of <a href="http://www.ietf.org/rfc/rfc3066.txt">RFC 
    3066</a> codes.</li>
</ol>
<p class="note"><b>Note:</b> The language + script + territory code combination 
can itself be considered simply a language code: For more information, see <a href="#Language_and_Locale_IDs">Appendix 
D: Language and Locale IDs</a>.</p>
<p>A locale that only has a language code (and possibly a script code) is called 
a <i>language locale</i>; one with both language and territory codes is called a 
<i>territory locale</i> (or <i>country locale</i>).</p>
<p class="noStyle">The variant codes specify particular variants of the locale, 
typically with special options. They cannot overlap with script or territory 
codes, so they must have either one letter or have more than 4 letters. The 
currently defined variants include:</p>
<table>
  <caption>Variant Definitions</caption>
  <tr>
    <th align="left">variant</th>
    <th align="left">Description</th>
  </tr>
  <tr>
    <td class="noStyle">bokmal</td>
    <td>Bokmål, variant of Norwegian</td>
  </tr>
  <tr>
    <td class="noStyle">nynorsk</td>
    <td>Nynorsk, variant of Norwegian</td>
  </tr>
  <tr>
    <td>aaland</td>
    <td>Åland, variant of Norwegian</td>
  </tr>
</table>
<p class="note"><b>Note: </b>The first two of the above variants are for 
backwards compatibility. Typically the entire contents of these are defined by 
an &lt;alias&gt; element pointing at nb_NO (Norwegian Bokmål) and 
nn_NO(Norwegian Nynorsk) locale IDs.</p>
<p>The currently defined optional key/type combinations include:</p>
<table>
  <caption>Key/Type Definitions</caption>
  <tr>
    <th align="left">key</th>
    <th align="left">type</th>
    <th align="left">Description</th>
  </tr>
  <tr>
    <td rowspan="6">collation</td>
    <td>phonebook</td>
    <td>For a phonebook-style ordering (used in German).</td>
  </tr>
  <tr>
    <td>pinyin</td>
    <td>Pinyin order for CJK characters</td>
  </tr>
  <tr>
    <td>traditional</td>
    <td>For a traditional-style sort (as in Spanish)</td>
  </tr>
  <tr>
    <td>stroke</td>
    <td>Stroke order for CJK characters</td>
  </tr>
  <tr>
    <td>direct</td>
    <td>Hindi variant</td>
  </tr>
  <tr>
    <td>posix</td>
    <td>A &quot;C&quot;-based locale.</td>
  </tr>
  <tr>
    <td rowspan="7">calendar</td>
    <td>gregorian</td>
    <td>(default)</td>
  </tr>
  <tr>
    <td>arabic</td>
    <td>Astronomical Arabic</td>
  </tr>
  <tr>
    <td>chinese</td>
    <td>Traditional Chinese calendar</td>
  </tr>
  <tr>
    <td>civil-arabic</td>
    <td>Civil (algorithmic) Arabic calendar</td>
  </tr>
  <tr>
    <td>hebrew</td>
    <td>Traditional Hebrew Calendar</td>
  </tr>
  <tr>
    <td>japanese</td>
    <td>Imperial Calendar (same as Gregorian except for the year, with one era 
      for each Emperor)</td>
  </tr>
  <tr>
    <td>thai-buddhist</td>
    <td>Thai Buddhist Calendar (same as Gregorian except for the year)</td>
  </tr>
</table>
<p class="note"><b>Note: </b>For information on the process for adding 
additional variants or element/type pairs, see <a href="http://www.openi18n.org/subgroups/lade/locale/">http://www.openi18n.org/subgroups/lade/locale/</a>.</p>
<h2><a name="Locale_Inheritance">Locale Inheritance</a></h2>
<p>The XML format relies on an inheritance model, whereby the resources are 
collected into <i>bundles</i>, and the bundles organized into a tree. Data for 
the many Spanish locales does not need to be duplicated across all of the 
countries having Spanish as a national language. Instead, common data is 
collected in the Spanish language locale, and territory locales only need to 
supply differences. The parent of all of the language locales is a generic 
locale known as <i>root</i>. Wherever possible, the resources in the root are 
language &amp; territory neutral. For example, the collation order in the root 
is the UCA (see UAX #10). Since English language collation has the same 
ordering, the 'en' locale data does not need to supply any collation data, nor 
does either the 'en_US' or the 'en_IE' locale data.</p>
<p>Given a particular locale id &quot;en_US_someVariant&quot;, the search chain 
for a particular resource is the following.</p>
<blockquote>
  <pre>en_US_someVariant
en_US
en
root</pre>
</blockquote>
<p>If a type and key are supplied in the locale id, then logically the chain 
from that id to the root is searched for a resource tag with a given type, all 
the way up to root. If no resource is found with that tag and type, then the 
chain is searched again without the type.</p>
<p>Thus the data for any given locale will only contain resources that are 
different from the parent locale. For example, most territory locales will 
inherit the bulk of their data from the language locale: &quot;en&quot; will 
contain the bulk of the data: &quot;en_US&quot; will only contain a few items 
like currency. All data that is inherited from a parent is presumed to be valid, 
just as valid as if it were physically present in the file. This provides for 
much smaller resource bundles, and much simpler (and less error-prone) 
maintenance.</p>
<p>Where this inheritance relationship does not match a target system, such as 
POSIX, the data logically should be fully resolved in converting to a format for 
use by that system, by adding <i>all</i> inherited data to each locale data set.</p>
<p>The locale data does not contain general character properties that are 
derived from the Unicode Character Database data [<a href="ftp://ftp.unicode.org/Public/UNIDATA/UnicodeCharacterDatabase.html">UCD</a>]. 
That data being common across locales, it is not duplicated in the bundles. 
Constructing a POSIX locale from the following data requires use of that data. 
In addition, POSIX locales may also specify the character encoding, which 
requires the data to be transformed into that target encoding.</p>
<h3><a name="Multiple_Inheritance">Multiple Inheritance</a></h3>
<p>In clearly specified instances, resources may inherit from within the same 
locale. For example, currency format symbols inherit from the number format 
symbols; the Buddhist calendar inherits from the Gregorian calendar. This <i>only</i> 
happens where documented in this specification. In these special cases, the 
inheritance within the locale supercedes the inheritance from the parent.</p>
<h2><a name="Data_Access">Data Access</a></h2>
<p>Data can be accessed by means of a URL. A locale URL has the following 
structure:</p>
<pre><i>base</i> &quot;/&quot; platform &quot;/&quot; <i>base_locale_id</i> &quot;.xml&quot; (&quot;?&quot; (&quot;version=&quot; <i>version</i> | <i>transformed_options</i>)</pre>
<p>The version is the version of the entire tree, not of a particular resource 
bundle, or resource within a bundle. The format for the version depends on the 
source of the data. For example, for <i>openoffice.org</i> the current version 
(at the time of this writing) would be 1.2, and for <i>icu</i> the current 
version at the time of this writing would be 2.2. The transformed options are 
the &lt;options&gt; from the <a href="#Locale_IDs">Locale ID</a> with the 
&quot;@&quot; removed, and &quot;,&quot; converted to &quot;&amp;&quot;.</p>
<p><i>Example, where base = http://openi18n.org/locale and platform = icu</i></p>
<blockquote>
  <p><a href="http://openi18n.org/locale/icu/de_DE.xml?version=2.2&amp;collation=phonebook">http://openi18n.org/locale/icu/de_DE.xml?version=2.2&amp;collation=phonebook</a></p>
</blockquote>
<p>At this point in time, there is not a mechanism for querying the base to 
determine which platforms, which versions of each platform, and which locales in 
the version are supported. In the future there will be more information, 
accessible at <a href="http://www.openi18n.org/subgroups/lade/locale/">http://www.openi18n.org/subgroups/lade/locale/</a>.</p>
<h2><a name="XML_Format">XML Format</a></h2>
<p>The following sections describe the structure of the XML format for locale 
data. To start with, the root element is &lt;localeData&gt;. That element 
contains the following elements:</p>
<ul>
  <li><a href="#&lt;identity&gt;">&lt;identity&gt;</a></li>
  <li><a href="#&lt;localeDisplayNames&gt;">&lt;localeDisplayNames&gt;</a></li>
  <li><a href="#&lt;layout&gt;">&lt;layout&gt;</a></li>
  <li><a href="#&lt;encodings&gt;">&lt;encodings&gt;</a></li>
  <li><a href="#&lt;delimiters&gt;">&lt;delimiters&gt;</a></li>
  <li><a href="#&lt;measurement&gt;">&lt;measurement&gt;</a></li>
  <li><a href="#&lt;dates&gt;">&lt;dates&gt;</a>
    <ul>
      <li><a href="#&lt;localizedPatternChars&gt;">&lt;localizedPatternChars&gt;</a></li>
      <li><a href="#&lt;calendars&gt;">&lt;calendars&gt;</a></li>
      <li><a href="#&lt;timeZoneNames&gt;">&lt;timeZoneNames&gt;</a></li>
    </ul>
  </li>
  <li><a href="#&lt;numbers&gt;">&lt;numbers&gt;</a>
    <ul>
      <li><a href="#&lt;symbols&gt;">&lt;symbols&gt;</a></li>
      <li><a href="#&lt;numberFormats&gt;">&lt;numberFormats&gt;</a></li>
      <li><a href="#&lt;currencies&gt;">&lt;currencies&gt;</a></li>
    </ul>
  </li>
  <li><a href="#&lt;collations&gt;">&lt;collations&gt;</a>
    <ul>
      <li><a href="#&lt;collation&gt;">&lt;collation&gt;</a></li>
    </ul>
  </li>
</ul>
<p>The structure of each of these elements and their contents will be described 
below. The first few elements have little structure, while dates, numbers, and 
collations are more involved.</p>
<p>In general, all translatable text in this format is in element contents, 
while attributes are reserved for types and non-translated information (such as 
numbers or dates). The reason that attributes are not used for translatable text 
is that spaces are not preserved, and we cannot predict where spaces may be 
significant in translated material.</p>
<p>Note that the data in examples given below is purely illustrative, and 
doesn't match any particular language. For a more detailed example of this 
format, see <a href="http://oss.software.ibm.com/cvs/icu/~checkout~/locale/LocaleElements.xml">Example</a>. 
There is also a <a href="http://oss.software.ibm.com/cvs/icu/~checkout~/locale/LocaleElements.dtd">DTD</a> 
for this format, but remember that the DTD alone is not sufficient to understand 
the semantics, the constraints, nor&nbsp; the interrelationships between the 
different elements and attributes. You may wish to have copies of each of these 
to hand as you proceed through the rest of this document.</p>
<p class="note">Note: To compare with the ICU locale data format and contents, 
see <a href="http://oss.software.ibm.com/cvs/icu/icu/source/data/">ICU Data</a>.</p>
<p>The namespace for this specification is <a href="http://www.openi18n.org/subgroups/lade/locale/ldml1.0">http://www.openi18n.org/subgroups/lade/locale/ldml1.0</a>.</p>
<h3><a name="Common_Elements">Common Elements</a></h3>
<p>At any level in any element, two special elements are allowed.</p>
<p class="element2">&lt;special xmlns=&quot;xxx&quot;&gt;</p>
<p>This element is designed to allow for arbitrary additional annotation and 
data that is product-specific. It has one required attribute, which specifies 
the XML <a href="http://www.w3.org/TR/REC-xml-names/">namespace</a> of the 
special data. For example:</p>
<pre>&lt;special owner=&quot;http://www.opengroup.org/regproducts/xu.htm&quot;&gt;
    &lt;!-- old abbreviations for pre-GUI days --&gt;
    &lt;messages&gt;
        &lt;no&gt;No&lt;/no&gt;
        &lt;yes&gt;Yes&lt;/yes&gt;
        &lt;shortYes&gt;Y&lt;/shortYes&gt;
        &lt;shortNo&gt;N&lt;/shortNo&gt;
    &lt;/messages&gt;
&lt;/special&gt;</pre>
<p class="element2"><b>&lt;alias source=&quot;&lt;locale_ID&gt;&quot;&gt;</b></p>
<p>The contents of any element can be replaced by an alias, which points to 
another source for the data. The resource is to be fetched from the 
corresponding location in the other source. Normal resource searching is to be 
used; take the following example:</p>
<pre>&lt;localeData&gt;
  &lt;collations&gt;
    &lt;collation type=&quot;phonebook&quot;&gt;
      &lt;alias source=&quot;de_DE&quot; type=&quot;phonebook&quot;&gt;
    &lt;/collation&gt;
  &lt;/collation&gt;
&lt;/localeData&gt;</pre>
<p>The resource bundle at &quot;de_DE&quot; will be searched for a resource 
element at the same position in the the same tree with type 
&quot;collation&quot;. If not found there, then the resource bundle at 
&quot;de&quot; will be searched, etc.</p>
<p class="element2">&lt;displayName&gt;</p>
<p>Many elements can have a display name. This is a translated name that can be 
presented to users when discussing the particular service. For example, a number 
format, used to format numbers using the conventions of that locale, can have 
translated name for presentation in GUIs.</p>
<pre>  &lt;numberFormat&gt;
    &lt;displayName&gt;Prozentformat&lt;/displayName&gt;
...
  &lt;numberFormat&gt;</pre>
<p class="element2">&lt;default type=&quot;someID&quot;/&gt;</p>
<p>In some cases, a number of elements are present. The default element can be 
used to indicate which of them is the default, in the absence of other 
information. The value of the type attribute is to match the value of the type 
attribute for the selected item.</p>
<pre>&lt;numberFormats&gt;
    &lt;default type=&quot;<font color="#0000FF">scientific</font>&quot;/&gt;
    &lt;numberFormat type=&quot;decimal&quot;&gt;...&lt;/numberFormat&gt;
    &lt;numberFormat type=&quot;percent&quot;&gt;...&lt;/numberFormat&gt;
    &lt;numberFormat type=&quot;<font color="#0000FF">scientific</font>&quot;&gt;...&lt;/numberFormat&gt;
&lt;/numberFormats&gt;</pre>
<p>Like all other elements, the &lt;default&gt; element is inherited. Thus, it 
can also refer to inherited resources. For example, suppose that the above 
resources are present in fr, and that in fr_BE we have the following:</p>
<pre>&lt;numberFormats&gt;
  &lt;default type=&quot;<font color="#0000FF">decimal</font>&quot;/&gt;
&lt;/numberFormats&gt;</pre>
<p>In that case, the default number format for fr_BE would be the inherited 
&quot;decimal&quot; resource from fr. Now suppose that we had in fr_CA:</p>
<pre>&lt;numberFormats&gt;
  &lt;numberFormat type=&quot;<font color="#0000FF">scientific</font>&quot;&gt;...&lt;/numberFormat&gt;
&lt;/numberFormats&gt;</pre>
<p>In this case, the &lt;default&gt; is inherited from fr, and has the value 
&quot;scientific&quot;. It thus refers to this new &quot;scientific&quot; 
pattern in this resource bundle.</p>
<h3><a name="Common_Attributes">Common Attributes</a></h3>
<p class="element2">&lt;... type=&quot;stroke&quot; ...&gt;</p>
<p>The attribute <i>type</i> is also used to indicate an alternate resource that 
can be selected with a matching type=option in the locale id modifiers, or be 
referenced by a default element. For example:</p>
<pre>&lt;localeData&gt;
  ...
  &lt;currencies&gt;
    &lt;currency&gt;...&lt;/currency&gt;
    &lt;currency type=&quot;preEuro&quot;&gt;...&lt;/currency&gt;
  &lt;/currencies&gt;
&lt;/localeData&gt;</pre>
<p>If there is no type attribute present, then the value is assumed to be 
&quot;standard&quot;.</p>
<p class="element2">&lt;... draft=&quot;true&quot; ...&gt;</p>
<p>If this attribute is present, it indicates the status of all the data in this 
element and any subelements (unless they have a contrary <i>draft</i> value).</p>
<ul>
  <li><i>true</i> meaning that it is all draft status (provisional data, not 
    verified)</li>
  <li><i>false</i> indicating the reverse.</li>
</ul>
<p class="element2">&lt;... standard=&quot;...&quot; ...&gt;</p>
<p>The value of this list is a list of strings representing standards: 
international, national, organization, or vendor standards. The presence of this 
attribute indicates that the data in this element is compliant with the 
indicated standards. Where possible, for uniqueness, the string should be a URL 
that represents that standard. The strings are separated by commas; leading or 
trailing spaces on each string are not significant. Examples:</p>
<p><code>&lt;collation standard=”MSA 200:2002”&gt;<br>
&lt;dateFormatStyle 
standard=”http://www.iso.ch/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=26780&amp;ICS1=1&amp;ICS2=140&amp;ICS3=30”&gt;</code></p>
<hr width="50%">
<h3><a name="&lt;identity&gt;">&lt;identity&gt;</a></h3>
<p>The identity element contains information identifying the target locale for 
this data, and general information about the version of this data.</p>
<p class="element2">&lt;version number=&quot;1.1&quot;&gt;</p>
<p>The version element provides, in an attribute, the version of this file.&nbsp; 
The contents of the element can contain textual notes about the changes between 
this version and the last. For example:</p>
<blockquote>
  <pre>&lt;version number=&quot;1.1&quot;&gt;Various notes and changes in version 1.1&lt;/version&gt;</pre>
</blockquote>
<p class="element2">&lt;generation date=&quot;2002-08-28&quot; /&gt;</p>
<p>The generation element contains the last modified date for the data. The data 
is in XML Schema format (yyyy-mm-dd).</p>
<p class="element2">&lt;language type=&quot;en&quot;/&gt;</p>
<p>The language code is the primary part of the specification of the locale id, 
with values as described above.</p>
<p class="element2">&lt;script type=&quot;Latn&quot; /&gt;</p>
<p>The script field may be used in the identification of written languages, with 
values described above.</p>
<p class="element2">&lt;territory type=&quot;US&quot;/&gt;</p>
<p>The territory code is a common part of the specification of the locale id, 
with values as described above.</p>
<p class="changed">&lt;variant type=&quot;nynorsk&quot;/&gt;</p>
<p>The variant code is the tertiary part of the specification of the locale id, 
with values as described above.</p>
<h3><a name="&lt;localeDisplayNames&gt;">&lt;localeDisplayNames&gt;</a></h3>
<p>Display names for scripts, languages, countries, and variants in this locale 
are supplied by this element. These supply localized names for these items for 
use in user-interfaces for displaying lists of locales and scripts. Examples are 
given below:</p>
<p class="element2">&lt;scripts&gt;</p>
<p>This element can contain an number of script elements. Each script element 
provides the localized name for a script, given by the value of the type 
attribute. The script IDs can be either the long or short forms from Scripts.txt 
in the UCD. (See <a href="http://www.unicode.org/unicode/reports/tr24/">UTR #24: 
Script Names</a> for more information.) For example, in the language of this 
locale, the name for the Latin script might be &quot;Romana&quot;, and for the 
Cyrillic script is &quot;Kyrillica&quot;. That would be expressed with the 
following.</p>
<blockquote>
  <p>&lt;script type=&quot;Latin&quot;&gt;Romana&lt;/script&gt;<br>
  &lt;script type=&quot;Cyrillic&quot;&gt;Kyrillica&lt;/script&gt;</p>
</blockquote>
<p class="element2">&lt;languages&gt;</p>
<p>This contains a list of elements that provide the user-translated names for 
language codes from <a href="http://www.chemie.fu-berlin.de/diverse/doc/ISO_639.html">ISO-639</a>, 
as described in <a href="#Locale_IDs">Locale_IDs</a>.</p>
<blockquote>
  <p>&lt;language type=&quot;ab&quot;&gt;Abkhazian&lt;/language&gt;<br>
  &lt;language type=&quot;aa&quot;&gt;Afar&lt;/language&gt;<br>
  &lt;language type=&quot;af&quot;&gt;Afrikaans&lt;/language&gt;<br>
  &lt;language type=&quot;sq&quot;&gt;Albanian&lt;/language&gt;</p>
</blockquote>
<p class="element2">&lt;territories&gt;</p>
<p>This contains a list of elements that provide the user-translated names for 
territory codes from <a href="http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html">ISO-3166</a>, 
as described in <a href="#Locale_IDs">Locale_IDs</a>.</p>
<blockquote>
  <p>&lt;territory type=&quot;AF&quot;&gt;Afghanistan&lt;/territory&gt;<br>
  &lt;territory type=&quot;AL&quot;&gt;Albania&lt;/territory&gt;<br>
  &lt;territory type=&quot;DZ&quot;&gt;Algeria&lt;/territory&gt;<br>
  &lt;territory type=&quot;AD&quot;&gt;Andorra&lt;/territory&gt;<br>
  &lt;territory type=&quot;AO&quot;&gt;Angola&lt;/territory&gt;<br>
  &lt;territory type=&quot;US&quot;&gt;United States&lt;/territory&gt;</p>
</blockquote>
<p class="element2">&lt;variants&gt;</p>
<p>This contains a list of elements that provide the user-translated names for 
the <i>variant_code</i> values described in <a href="#Locale_IDs">Locale_IDs</a>.</p>
<blockquote>
  <p>&lt;variant type=&quot;nynorsk&quot;&gt;Nynorsk&lt;/variant&gt;</p>
</blockquote>
<p class="element2">&lt;keys&gt;</p>
<p>This contains a list of elements that provide the user-translated names for 
the <i>key</i> values described in <a href="#Locale_IDs">Locale_IDs</a>.</p>
<blockquote>
  <p>&lt;key type=&quot;collation&quot;&gt;Sortierung&lt;/key&gt;</p>
</blockquote>
<p class="element2">&lt;types&gt;</p>
<p>This contains a list of elements that provide the user-translated names&nbsp; 
for the <i>type</i> values described in <a href="#Locale_IDs">Locale_IDs</a>. 
Since the translation of an option name may depend on the <i>key</i> it is used 
with, the latter is optionally supplied.</p>
<blockquote>
  <p>&lt;type type=&quot;phonebook&quot; 
  key=&quot;collation&quot;&gt;Telefonbuch&lt;/type&gt;</p>
</blockquote>
<h3><a name="&lt;layout&gt;">&lt;layout&gt;</a></h3>
<p>This top-level element specifies general layout features. It currently only 
has one possible element (other than &lt;special&gt;, which is always 
permitted).</p>
<p class="element2">&lt;orientation lines=&quot;top-to-bottom&quot; 
characters=&quot;left-to-right&quot; /&gt;</p>
<p>The lines and characters attributes specify the default general ordering of 
lines, and characters within a line. The values are:</p>
<table border="1">
  <caption>Orientation Attributes</caption>
  <tr>
    <td width="50%" rowspan="2">Vertical</td>
    <td width="50%">top-to-bottom</td>
  </tr>
  <tr>
    <td width="50%">bottom-to-top</td>
  </tr>
  <tr>
    <td width="50%" rowspan="2">Horizontal</td>
    <td width="50%">left-to-right</td>
  </tr>
  <tr>
    <td width="50%">right-to-left</td>
  </tr>
</table>
<p>If the lines value is vertical then the characters value must be horizontal, 
and vice versa. This does not override the ordering behavior of bidirectional 
text; it does, however, supply the paragraph direction for that text (for more 
information, see <a href="http://www.unicode.org/unicode/reports/tr9/">UAX #9</a>).</p>
<h3><a name="&lt;encodings&gt;">&lt;encodings&gt;</a></h3>
<p>The encodings element does <i>not</i> (unlike POSIX) specify the encoding of 
the data itself. Instead, it provide optional information that can be helpful in 
picking among character encodings that are typically used to transmit data in 
the language of this locale. It typically only occurs in a language locale, not 
in a language/territory locale.</p>
<p class="element2">&lt;exemplarCharacters&gt;[a-zåæø]&lt;/exemplarCharacters&gt;</p>
<p>This element indicates that normal usage of the language of this locale 
requires these letters. An encoding that cannot encompass at least these letters 
is inappropriate for encoding data in the language of this locale. The list of 
characters is in <a href="http://oss.software.ibm.com/icu/userguide/unicodeSet.html">UnicodeSet</a> 
format, which allows boolean combinations of sets of letters, including those 
specified by Unicode properties.</p>
<p>The letters do not necessarily form a complete set (especially for languages 
using large character sets, such as CJK). Nor does the list necessarily include 
letters that are used in common foreign words used in that language. The letters 
are only the lowercase alternatives, but implicitly include the normal 
&quot;case-closure&quot;: all uppercase and titlecase variants. For the special 
case of Turkish, the dotted capital I should be included. Sequences of 
characters that are considered to be a single letter in the alphabet, such as 
&quot;ch&quot; can be included, using curly braces (e.g., [[a-z{ch}{ll}{rr}] - 
[w]])</p>
<p class="element2">&lt;mapping registry=&quot;iana&quot; 
type=&quot;windows-1252&quot;/&gt;</p>
<p>There can be multiple mapping elements. Each indicates the character 
conversion mapping table name for a character encoding that is commonly used to 
encode data in the language of this locale. The version field of the mapping 
table is omitted. The ordering among the mapping elements is not significant. 
The mapping elements themselves are not inherited from parents.</p>
<p>The registry indicates the source of the encoding. Currently the only 
registry that can be used is &quot;iana&quot;, which specifies use of&nbsp; an <a href="http://www.iana.org/assignments/character-sets">IANA 
name</a>.&nbsp; Note: while IANA names are not precise for conversion (see <a href="http://www.unicode.org/unicode/reports/tr22/">UTR 
#22: Character Mapping Tables</a>), they are sufficient for this purpose.</p>
<h3><a name="&lt;delimiters&gt;">&lt;delimiters&gt;</a></h3>
<p class="changed">The delimiters supply common delimiters for bracketing 
quotations. The quotation marks are used with simple quoted text, such as:</p>
<blockquote>
  <p class="changed">He said, “Don’t be absurd!”</p>
</blockquote>
<p class="changed">The alternate marks are used with embedded quotations, such 
as:</p>
<blockquote>
  <p class="changed">He said, “Remember what the Mad Hatter said: ‘Not the 
  same thing a bit! Why you might just as well say that “I see what I eat” 
  is the same thing as “I eat what I see”!’”</p>
</blockquote>
<p class="changed"><code>&lt;quotationStart&gt;</code>“<code>&lt;/quotationStart&gt;</code><br>
<code>&lt;quotationEnd&gt;</code>”<code>&lt;/quotationEnd&gt;</code><br>
<code>&lt;alternateQuotationStart&gt;</code>‘<code>&lt;/alternateQuotationStart&gt;</code><br>
<code>&lt;alternateQuotationEnd&gt;</code>’<code>&lt;/alternateQuotationEnd&gt;</code></p>
<h3><a name="&lt;measurement&gt;">&lt;measurement&gt;</a></h3>
<pre>&lt;measurementSystem type=&quot;US&quot;/&gt;</pre>
<p>The measurement system is the normal measurement system in common everyday 
use (except for date/time). The values are &quot;metric&quot; (= <a href="http://www.iso.ch/iso/en/CatalogueDetailPage.CatalogueDetail?CSNUMBER=5448&amp;ICS1=1&amp;ICS2=60&amp;ICS3=">ISO 
1000</a>) or &quot;US&quot;; others will be added over time.</p>
<p class="note"><b>Note:</b> In the future, we may need to add display names for 
the particular measurement units (millimeter vs millimetre vs whatever the 
Greek, Russian, etc are), and a message format for position those with respect 
to numbers. E.g. &quot;{number} {unitName}&quot; in some languages, but 
&quot;{unitName} {number}&quot; in others.</p>
<p class="note"><b>Note:</b><i> Numbers indicating measurements should <b>never</b> 
be interchanged without known dimensions. You never want the number 3.51 
interpreted as 3.51 feet by one user and 3.51 meters by another. However, this 
element can be used to convert dimensioned numbers into the user's desired 
notation: so the value of 3.51 meters can be formatted as 11.52 feet on a 
particular user's system.</i></p>
<p>The paperSize element gives the normal business letter size, and customary 
units. The units for the numbers are always in millimeters.</p>
<pre>&lt;paperSize&gt;
  &lt;height&gt;279&lt;/height&gt;
  &lt;width&gt;216&lt;/width&gt;
&lt;/paperSize&gt;</pre>
<h3><a name="&lt;dates&gt;">&lt;date&gt;</a></h3>
<p>This top-level element contains information regarding the format and parsing 
of dates and times. The data is based on the Java/ICU format. Most of these are 
fairly self-explanatory, except <i>minDays</i> and <i>localizedPatternChars</i>. 
For information on this, and more information on other elements and attributes, 
see the Java API: <a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/DateFormat.html">DateFormat</a>, 
<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/DateFormatSymbols.html">DateFormatSymbols</a>, 
<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a>.</p>
<p class="note"><b>Note: </b>there is an on-line demonstration of date 
formatting and parsing at <a href="http://oss.software.ibm.com/cgi-bin/icu/lx">Locale 
Explorer</a> (pick the locale and scroll to &quot;Date Patterns&quot;).</p>
<p>The &lt;dates&gt; element has three possible sub-elements: 
&lt;localizedPatternCharacters&gt;, &lt;calendars&gt; and &lt;timeZoneNames&gt;</p>
<pre class="element2"><a name="&lt;localizedPatternChars&gt;">&lt;localizedPatternChars&gt;</a>GyMdkHmsSEDFwWahKz&lt;/localizedPatternChars&gt;</pre>
<p>The interpretation of this is explained in <a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/DateFormatSymbols.html">DateFormatSymbols</a>.</p>
<pre class="element2"><a name="&lt;calendars&gt;">&lt;calendars&gt;</a></pre>
<p>This element contains multiple &lt;calendar&gt; elements, each of which 
specifies the fields used for formatting and parsing dates and times according 
to the given calendar. The month names are identified numerically, starting at 
1. The day names are identified with short strings, since there is no 
universally-accepted numeric designation.</p>
<p>Many calendars will only differ from the Gregorian Calendar in the year and 
era values. For example, the Japanese calendar will have many more eras (one for 
each Emperor), and the years will be numbered within that era. All other 
calendars inherit from the Gregorian calendar (which must be present), so only 
the differing data will be present.</p>
<p class="example">Example:</p>
<pre>  &lt;calendar type=&quot;gregorian&quot;&gt;
    &lt;monthNames&gt;
        &lt;month type=&quot;1&quot;&gt;January&lt;/month&gt;
        &lt;month type=&quot;2&quot;&gt;February&lt;/month&gt;
...
        &lt;month type=&quot;11&quot;&gt;November&lt;/month&gt;
        &lt;month type=&quot;12&quot;&gt;December&lt;/month&gt;
    &lt;/monthNames&gt;
    &lt;monthAbbr&gt;
        &lt;month type=&quot;1&quot;&gt;Jan&lt;/month&gt;
        &lt;month type=&quot;2&quot;&gt;Feb&lt;/month&gt;
...
        &lt;month type=&quot;11&quot;&gt;Nov&lt;/month&gt;
        &lt;month type=&quot;12&quot;&gt;Dec&lt;/month&gt;
    &lt;/monthAbbr&gt;

    &lt;dayNames&gt;
        &lt;day type=&quot;sun&quot;&gt;Sunday&lt;/day&gt;
        &lt;day type=&quot;mon&quot;&gt;Monday&lt;/day&gt;
...
        &lt;day type=&quot;fri&quot;&gt;Friday&lt;/day&gt;
        &lt;day type=&quot;sat&quot;&gt;Saturday&lt;/day&gt;
    &lt;/dayNames&gt;
    &lt;dayAbbr&gt;
        &lt;day type=&quot;sun&quot;&gt;Sun&lt;/day&gt;
        &lt;day type=&quot;mon&quot;&gt;Mon&lt;/day&gt;
...
        &lt;day type=&quot;fri&quot;&gt;Fri&lt;/day&gt;
        &lt;day type=&quot;sat&quot;&gt;Sat&lt;/day&gt;
    &lt;/dayAbbr&gt;

    &lt;week&gt;
        &lt;minDays count=&quot;1&quot;/&gt;
        &lt;firstDay day=&quot;sun&quot;/&gt;
        &lt;weekendStart day=&quot;fri&quot; time=&quot;18:00&quot;/&gt;
        &lt;weekendEnd day=&quot;sun&quot; time=&quot;18:00&quot;/&gt;
    &lt;/week&gt;

    &lt;am&gt;AM&lt;/am&gt;
    &lt;pm&gt;PM&lt;/pm&gt;

    &lt;eras&gt;
       &lt;eraAbbr&gt;
        &lt;era type=&quot;0&quot;&gt;BC&lt;/era&gt;
        &lt;era type=&quot;1&quot;&gt;AD&lt;/era&gt;
       &lt;/eraAbbr&gt;
       &lt;eraName&gt;
        &lt;era type=&quot;0&quot;&gt;Before Christ&lt;/era&gt;
        &lt;era type=&quot;1&quot;&gt;Anno Domini&lt;/era&gt;
       &lt;/eraName&gt;
    &lt;/eras&gt;</pre>
<pre class="changed">    &lt;dateFormats&gt;
      &lt;default type=”medium”/&gt;
      &lt;dateFormatLength type=”full”&gt;
        &lt;dateFormat&gt;
          &lt;pattern&gt;EEEE, MMMM d, yyyy&lt;/pattern&gt;
        &lt;/dateFormat&gt;
       &lt;/dateFormatLength&gt;
     &lt;dateFormatLength type=&quot;medium&quot;&gt;
       &lt;default type=&quot;DateFormatsKey2&quot;&gt;
       &lt;dateFormat type=&quot;DateFormatsKey2&quot;&gt;
        &lt;pattern&gt;MMM d, yyyy&lt;/pattern&gt;
       &lt;/dateFormat&gt;
       &lt;dateFormat type=&quot;DateFormatsKey3&quot;&gt;
         &lt;pattern&gt;MMM dd, yyyy&lt;/pattern&gt;
        &lt;/dateFormat&gt;
      &lt;/dateFormatLength&gt;
    &lt;dateFormats&gt;</pre>
<pre class="changed">     &lt;timeFormats&gt;
       &lt;default type=&quot;medium&quot;/&gt;
       &lt;timeFormatLength type=”full”&gt;
         &lt;timeFormat&gt;
           &lt;displayName&gt;DIN 5008 (EN 28601)&lt;/displayName&gt;
           &lt;pattern&gt;h:mm:ss a z&lt;/pattern&gt;
         &lt;/timeFormat&gt;
       &lt;/timeFormatLength&gt;
       &lt;timeFormatLength type=&quot;medium&quot;&gt;
         &lt;timeFormat&gt;
           &lt;pattern&gt;h:mm:ss a&lt;/pattern&gt;
         &lt;/timeFormat&gt;
       &lt;/timeFormatLength&gt;
     &lt;/timeFormats&gt;

     &lt;dateTimeFormats&gt;
       &lt;default type=&quot;medium&quot;/&gt;
       &lt;dateTimeFormatLength type=”full”&gt;
         &lt;dateTimeFormat&gt;
            &lt;pattern&gt;{0} {1}&lt;/pattern&gt;
         &lt;/dateTimeFormat&gt;
       &lt;/dateTimeFormatLength&gt;
     &lt;/dateTimeFormats&gt;</pre>
<pre>  &lt;/calendar&gt;

  &lt;calendar class=&quot;thai-buddhist&quot;&gt;
    &lt;eras&gt;
        &lt;era type=&quot;0&quot;&gt;BE&lt;/era&gt;
    &lt;/eras&gt;
  &lt;/calendar&gt;
</pre>
<p class="element2"><a name="&lt;timeZoneNames&gt;">&lt;timeZoneNames&gt;</a></p>
<p>The timezone IDs are language-independent, and follow the <a href="ftp://elsie.nci.nih.gov/pub/">Olson 
data</a>. However, the display names for those IDs can vary by locale. The 
generic time is so-called <i>wall-time</i>; what clocks use when they are 
correctly switched from standard to daylight time at the mandated time of the 
year.</p>
<pre>&lt;zone type=&quot;America/Los_Angeles&quot; &gt;
    &lt;long&gt;
        &lt;generic&gt;Pacific Time&lt;/generic&gt;
        &lt;standard&gt;Pacific Standard Time&lt;/standard&gt;
        &lt;daylight&gt;Pacific Daylight Time&lt;/daylight&gt;
    &lt;/long&gt;
    &lt;short&gt;
        &lt;generic&gt;PT&lt;/generic&gt;
        &lt;standard&gt;PST&lt;/standard&gt;
        &lt;daylight&gt;PDT&lt;/daylight&gt;
    &lt;/short&gt;
    &lt;exemplarCity&gt;Los Angeles&lt;/exemplarCity&gt;
&lt;/zone&gt;

&lt;zone type=&quot;Europe/London&quot;&gt;
     &lt;long&gt;
        &lt;generic&gt;British Time&lt;/generic&gt;
        &lt;standard&gt;British Standard Time&lt;/standard&gt;
        &lt;daylight&gt;British Daylight Time&lt;/daylight&gt;
    &lt;/long&gt;
    &lt;exemplarCity&gt;York&lt;/exemplarCity&gt;
&lt;/zone&gt;</pre>
<p class="note"><b>Note: </b>Transmitting &quot;14:30&quot; with no other 
context is incomplete unless it contains information about the time zone. 
Ideally one would transmit neutral-format date/time information, commonly in 
UTC, and localize as close to the user as possible. (For more about UTC, see <a href="http://www.boulder.nist.gov/timefreq/">NIST 
Time and Frequency Division Home Page</a>,&nbsp; <a href="http://aa.usno.navy.mil/AA/faq/docs/UT.html">U.S. 
Naval Observatory: What is Universal Time?</a>.)</p>
<p class="note">The conversion from local time into UTC depends on the 
particular time zone rules, which will vary by location. The standard data used 
for converting local time (sometimes called <i>wall time</i>) to UTC and back is 
the <a href="ftp://elsie.nci.nih.gov/pub/">Olson data</a>, used by UNIX, Java, 
ICU, and others. The data includes rules for matching the laws for time changes 
in different countries. For example, for the US it is:</p>
<blockquote>
  <p class="note">&quot;During the period commencing at 2 o'clock antemeridian 
  on the first Sunday of April of each year and ending at 2 o'clock antemeridian 
  on the last Sunday of October of each year, the standard time of each zone 
  established by sections 261 to 264 of this title, as modified by section 265 
  of this title, shall be advanced one hour...&quot; (United States Law - 15 
  U.S.C. §6(IX)(260-7)).</p>
</blockquote>
<p class="note">Each region that has a different timezone or daylight savings 
time rules, either now or at any time in the past, is given a unique internal 
ID, such as <code>Europe/Paris</code>. As with currency codes, these are 
internal codes that should be localized if exposed to a user (such as in the 
Windows<i> Control Panels&gt;Date/Time&gt;Time Zone</i>).</p>
<p class="note">Unfortunately, laws change over time, and will continue to 
change in the future, both for the boundaries of timezone regions and the rules 
for daylight savings. Thus the Olson data is continually being augmented. Any 
two implementations using the same version of the Olson data will get the same 
results for the same IDs (assuming a correct implementation). However, if 
implementations use different versions of the data they may get different 
results. So if precise results are required then both the Olson ID and the Olson 
data version must be transmitted between the different implementations.</p>
<h3><a name="&lt;numbers&gt;">&lt;numbers&gt;</a></h3>
<p>The numbers element supplies information for formatting and parsing numbers 
and currencies. It has three sub-elements: &lt;symbols&gt;, &lt;numbers&gt;, and 
&lt;currencies&gt;. The data is based on the Java/ICU format. The currency IDs 
are from <a href="http://www.bsi-global.com/Technical+Information/Publications/_Publications/tig90x.doc">ISO 
4217</a>. For more information, including the pattern structure, see the Java 
API: <a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/NumberFormat.html">NumberFormat</a>, 
<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/DecimalFormat.html">DecimalFormat</a>, 
<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/DecimalFormatSymbols.html">DecimalFormatSymbols</a>.</p>
<p class="note"><b>Note: </b>there is an on-line demonstration of number 
formatting and parsing at <a href="http://oss.software.ibm.com/cgi-bin/icu/lx">Locale 
Explorer</a> (pick the locale and scroll to &quot;Number Patterns&quot;).</p>
<pre><a name="&lt;symbols&gt;">&lt;symbols&gt;</a>
      &lt;decimal&gt;.&lt;/decimal&gt;
      &lt;group&gt;,&lt;/group&gt;
      &lt;list&gt;;&lt;/list&gt;
      &lt;percentSign&gt;%&lt;/percentSign&gt;
      &lt;nativeZeroDigit&gt;0&lt;/nativeZeroDigit&gt;
      &lt;patternDigit&gt;#&lt;/patternDigit&gt;
      &lt;plusSign&gt;+&lt;/plusSign&gt;
      &lt;minusSign&gt;-&lt;/minusSign&gt;
      &lt;exponential&gt;E&lt;/exponential&gt;
      &lt;perMille&gt;‰&lt;/perMille&gt;
      &lt;infinity&gt;∞&lt;/infinity&gt;
      &lt;nan&gt;☹&lt;/nan&gt;
&lt;/symbols&gt;</pre>
<pre class="changed"><a name="&lt;numberFormats&gt;">&lt;decimalFormats&gt;</a>
  &lt;decimalFormatLength type=&quot;long&quot;&gt;
    &lt;decimalFormat&gt;
      &lt;pattern&gt;#,##0.###&lt;/pattern&gt;
    &lt;/decimalFormat&gt;
  &lt;/decimalFormatLength&gt;
&lt;/decimalFormats&gt;</pre>
<pre class="changed"><a name="&lt;numberFormats&gt;">&lt;scientificFormats&gt;</a>
  &lt;default type=&quot;long&quot;&gt;
  &lt;scientificFormatLength type=&quot;long&quot;&gt;
    &lt;scientificFormat&gt;
      &lt;pattern&gt;0.000###E+00&lt;/pattern&gt;
    &lt;/scientificFormat&gt;
  &lt;/scientificFormatLength&gt;
  &lt;scientificFormatLength type=&quot;medium&quot;&gt;
    &lt;scientificFormat&gt;
      &lt;pattern&gt;0.00##E+00&lt;/pattern&gt;
    &lt;/scientificFormat&gt;
  &lt;/scientificFormatLength&gt;
&lt;/scientificFormats&gt;</pre>
<pre class="changed"><a name="&lt;numberFormats&gt;">&lt;percentFormats&gt;</a>
  &lt;percentFormatLength type=&quot;long&quot;&gt;
    &lt;percentFormat&gt;
      &lt;pattern&gt;#,##0%&lt;/pattern&gt;
    &lt;/percentFormat&gt;
  &lt;/percentFormatLength&gt;
&lt;/percentFormats&gt;</pre>
<pre class="changed"><a name="&lt;numberFormats&gt;">&lt;currencyFormats&gt;</a>
  &lt;currencyFormatLength type=&quot;long&quot;&gt;
    &lt;currencyFormat&gt;
      &lt;pattern&gt;¤ #,##0.00;(¤ #,##0.00)&lt;/pattern&gt;
    &lt;/currencyFormat&gt;
  &lt;/currencyFormatLength&gt;
&lt;/currencyFormats&gt;</pre>
<pre><a name="&lt;currencies&gt;">&lt;currencies&gt;</a>
    &lt;currency type=&quot;USD&quot;&gt;
        &lt;displayName&gt;Dollar&lt;/displayName&gt;
        &lt;symbol&gt;$&lt;/symbol&gt;
    &lt;/currency&gt;
    &lt;currency type =&quot;JPY&quot;&gt;
        &lt;displayName&gt;Yen&lt;/displayName&gt;
        &lt;symbol&gt;¥&lt;/symbol&gt;
    &lt;/currency&gt;
    &lt;currency type =&quot;INR&quot;&gt;
        &lt;displayName&gt;Rupee&lt;/displayName&gt;
        &lt;symbol choice=&quot;true&quot;&gt;0≤Rf|1≤Ru|1&lt;Rf&lt;/symbol&gt;
    &lt;/currency&gt;
    &lt;currency type=&quot;PTE&quot;&gt;
        &lt;displayName&gt;Escudo&lt;/displayName&gt;
        &lt;symbol&gt;$&lt;/symbol&gt;
    &lt;/currency&gt;
&lt;/currencies&gt;</pre>
<p>In formatting currencies, the currency number format is used with the 
appropriate symbol from &lt;currencies&gt;, according to the currency code. The 
&lt;currencies&gt; list can contain codes that are no longer in current use, 
such as PTE. The choice attribute can be used to indicate that the value uses a 
pattern which is to be interpreted as a <a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/ChoiceFormat.html">ChoiceFormat</a>, 
with the 0 parameter being the numeric value.</p>
<p class="note"><b>Note: </b><i>Currency values should <b>never</b> be 
interchanged without a known currency code. You never want the number 3.5 
interpreted as $3.5 by one user and ¥3.5 by another. </i>Locale data contains 
localization information for currencies, not a currency value for a country. A 
currency amount logically consists of a numeric value, plus an accompanying <a class="btmlink" href="http://www.bsi-global.com/Portfolio+of+Products+and+Services/Books+Guides/Consumer/th42090.xalter">ISO 
4217</a> currency code (or equivalent). The currency code may be implicit in a 
protocol, such as where USD is implicit. But if the raw numeric value is 
transmitted without any context, then it has no definitive interpretation.</p>
<p class="note">Notice that the currency code is completely independent of the 
end-user's language or locale. For example, RUR is the code for Russian Rubles. 
A currency amount of &lt;RUR, 1.23457×10³&gt; would be localized for a Russian 
user into &quot;1&nbsp;234,57р.&quot; (using U+0440 (р) <span style="FONT-VARIANT: small-caps">cyrillic 
small letter er</span>). For an English user it would be localized into the 
string &quot;Rub 1,234.57&quot; The end-user's language is needed for doing this 
last localization step; but that language is completely orthogonal to the 
currency code needed in the data. After all, the same English user could be 
working with dozens of currencies. (See for example: <a href="http://www-124.ibm.com/icu/dropbox/nsdsa.phdnswc.navy.mil/mspecs/docs/styleman2000/chapter_txt-17.html#17t6">NSDSA 
Currency Table</a> and <a href="http://www.unece.org/etrades/unedocs/repository/codelists/xml/CurrencyCodeList.xml">UNECE 
Currency Data</a>.) Notice also that the currency code is also independent of 
whether currency values are inter-converted, which requires more interesting 
financial processing: the rate of conversion may depend on a variety of factors.</p>
<p class="note">Thus logically speaking, once a currency amount is entered into 
a system, it should be logically accompanied by a currency code in all 
processing. This currency code is independent of whatever the user's original 
locale was. Only in badly-designed software is the currency code (or equivalent) 
not present, so that the software has to &quot;guess&quot; at the currency code 
based on the user's locale.</p>
<p class="note"><b>Note: </b>The number of decimal places <b>and</b> the 
rounding for each currency is not locale-specific data, and is not contained in 
the localeData format. Those values override whatever is given in the currency 
numberFormat. For more information, see <a href="#Supplemental_Data">Supplemental 
Data</a>.</p>
<p>For background information on currency names, see <a href="http://nsdsa.phdnswc.navy.mil/mspecs/docs/styleman2000/chapter_txt-17.html#17t6">Currency 
Names</a>.</p>
<h3><a name="&lt;collations&gt;">&lt;collations&gt;</a></h3>
<p>This section contains one or more collation elements, distinguished by type. 
Each collation contains rules that specify a certain sort-order, as a tailoring 
of the UCA table. (For a chart view of the UCA, see <a href="http://www.unicode.org/charts/collation/">Collation 
Chart</a>.) This syntax is an XMLized version of the Java/ICU syntax. <span class="changed">For 
illustration, the rules are accompanied by the corresponding <i>basic</i> <a href="http://oss.software.ibm.com/icu/userguide/Collate_Customization.html">ICU 
rule syntax</a> (used in ICU and Java) and/or the ICU parameterizations, and the 
basic syntax may be used in examples.</span></p>
<p class="note"><b>Note: </b>ICU provides a concise format for specifying 
orderings, based on tailorings to the UCA. For example, to specify that k and q 
follow 'c', one can use the rule: &quot;&amp; c &lt; k &lt; q&quot;. The rules 
also allow people to set default general parameter values, such as whether 
uppercase is before lowercase or not. (Java contains an earlier version of ICU, 
and has not been updated recently. It does not support any of the basic syntax 
marked with [...], and its default table is not the UCA.)</p>
<p class="note">However, it is <b>not</b> necessary for ICU to be used in the 
underlying implementation. <span class="changed">The features are simply related 
to the ICU capabilities, since that supplies more detailed examples.</span> <b>Note: 
</b>there is an on-line demonstration of collation at <a href="http://oss.software.ibm.com/cgi-bin/icu/lx">Locale 
Explorer</a> (pick the locale and scroll to &quot;Collation Rules&quot;).</p>
<p>Like the ICU rules, the tailoring syntax is designed to be independent of the 
actual weights used in any particular UCA table. That way the same rules can be 
applied to UCA versions over time, even if the underlying weights change. The 
following describes the overall document structure of a collation:</p>
<p><code><a name="&lt;collation&gt;">&lt;collation&gt;</a><br>
&nbsp;&lt;uca version='3.1.1'&gt;<br>
&nbsp;&lt;settings caseLevel=&quot;on&quot;/&gt;<br>
&nbsp;&lt;rules&gt;<br>
<font color="#00FF00">&nbsp; &lt;!-- rules go here --&gt;<br>
</font>&nbsp;&lt;/rules&gt;<br>
&lt;/collation&gt;</code></p>
<h3><a name="Collation_Version">Version</a></h3>
<p class="changed">The version is used in case a specific version of the UCA is 
to be specified. It must be specified if the results are to be identical on 
different systems. If it is not supplied, then the version is assumed to be the 
same as the Unicode version for the system as a whole.</p>
<blockquote>
  <p><i><b>Note: </b>For version 3.1.1 of the UCA, the version of Unicode must 
  also be specified with any versioning information. This has been changed as of 
  the last UTC meeting, so that it will no longer be necessary as of UCA 4.0. So 
  it is omitted here.</i></p>
</blockquote>
<h3><a name="Setting_Options">Setting Options</a></h3>
<p>In XML, these are attributes of &lt;settings&gt;. For example, &lt;setting 
strength=&quot;secondary&quot;&gt; will only compare strings based on their 
primary and secondary weights.</p>
<p>If the attribute is not present, the default (or for the base url's 
attribute, if there is one) is used. The default is listed in italics. The 
effect of these are defined by reference to the <a href="http://oss.software.ibm.com/icu/userguide/Collate_Customization.html">ICU 
rule syntax</a>).</p>
<table>
  <caption>Collation Settings Attributes</caption>
  <tbody>
    <tr>
      <th>Attribute</th>
      <th>Options</th>
      <th>Basic Example &nbsp;</th>
      <th>XML Example</th>
      <th class="changed">Description</th>
    </tr>
    <tr>
      <td><font color="#000000">strength</font></td>
      <td>primary (1)<br>
        secondary (2)<br>
        tertiary (3)<br>
        quarternary (4)<br>
        identical (5)</td>
      <td><code>[strength 1]</code></td>
      <td><code>strength = &quot;primary&quot;</code></td>
      <td class="changed">Sets the default strength for comparison, as described 
        in the UCA.</td>
    </tr>
    <tr>
      <td>alternate</td>
      <td><i>non-ignorable</i><br>
        shifted</td>
      <td><code>[alternate non-ignorable]</code></td>
      <td><code>alternate = &quot;non-ignorable&quot;</code></td>
      <td class="changed">Sets alternate handling for variable weights, as 
        described in UCA</td>
    </tr>
    <tr>
      <td>backwards</td>
      <td>on<br>
        <i>off</i></td>
      <td><code>[backwards on] &nbsp;</code></td>
      <td><code>backwards = &quot;on&quot;</code></td>
      <td class="changed">Sets the comparison to be backwards 
        (&quot;French&quot;), as s described in UCA</td>
    </tr>
    <tr>
      <td>normalization</td>
      <td>on<br>
        off</td>
      <td><code>[normalization on]&nbsp;</code></td>
      <td><code>normalization = &quot;off&quot;</code></td>
      <td class="changed">If <i>on</i>, then the normal UCA algorithm is used. 
        If <i>off</i>, then all strings that are in <a href="http://www.unicode.org/notes/tn5/">FCD</a> 
        will sort correctly, but others won't. So should only be set <i>off</i> 
        if the the strings to be compared are in FCD.</td>
    </tr>
    <tr>
      <td>caseLevel</td>
      <td>on<br>
        off</td>
      <td><code>[caseLevel on]</code></td>
      <td><code>caseLevel = &quot;off&quot;</code></td>
      <td class="changed">If set to <i>on,</i> a level consisting only of case 
        characteristics will be inserted in front of tertiary level. To ignore 
        accents but take cases into account, set strength to primary and case 
        level to <i>on</i>.&nbsp;</td>
    </tr>
    <tr>
      <td>caseFirst</td>
      <td>upper<br>
        lower<br>
        off</td>
      <td><code>[caseFirst off]</code></td>
      <td><code>caseFirst = &quot;off&quot;</code></td>
      <td class="changed">If set to <i>upper</i>, causes upper case to sort 
        before lower case. If set to <i>lower</i>, lower case will sort before 
        upper case. Useful for locales that have already supported ordering but 
        require different order of cases. Affects case and tertiary levels.</td>
    </tr>
    <tr>
      <td>hiraganaQ</td>
      <td>on<br>
        off</td>
      <td><code>[hiraganaQ on]</code></td>
      <td><code>hiragana­Quarternary = &quot;on&quot;</code></td>
      <td class="changed">Controls special treatment of Hiragana code points on 
        quaternary level. If turned <i>on</i>, Hiragana codepoints will get 
        lower values than all the other non-variable code points. The strength 
        must be greater or equal than quaternary if you want this attribute to 
        take effect.</td>
    </tr>
  </tbody>
</table>
<h2><a name="Rules">Collation Rule Syntax</a></h2>
<p>The goal for the collation rule syntax is to have clearly expressed rules 
with a concise format, that parallels the Basic syntax as much as possible.&nbsp; 
The rule syntax uses abbreviated element names for primary (level 1), secondary 
(level 2), tertiary (level 3), and identical, to be as short as possible. The 
reason for this is because the tailorings for CJK characters are quite large 
(tens of thousands of elements), and the extra overhead would have been 
considerable. Other elements and attributes do not occur as frequently, and have 
longer names.</p>
<blockquote>
  <p><b><i>Note: </i></b>The rules are stated in terms of actions that cause 
  characters to change their ordering relative to other characters. This is for 
  stability; assigning characters specific weights would not work, since the 
  exact weight assignment in UCA (or ISO 14651) is not required for conformance 
  -- only the relative ordering of the weights. In addition, stating rules in 
  terms of relative order is much less sensitive to changes over time in the UCA 
  itself.</p>
</blockquote>
<h3><a name="Orderings">Orderings</a></h3>
<p class="changed">The following are the normal ordering actions used for the 
bulk of characters. Each rule contains a string of ordered characters that 
starts with an anchor point or a reset value. The reset value is an absolute 
point in the UCA that determines the order of other characters. For example, the 
rule &amp; a &lt; g, places &quot;g&quot; after &quot;a&quot; in a tailored UCA: 
the &quot;a&quot; does not change place. Logically, subsequent rule after a 
reset indicates a change to the ordering (and comparison strength) of the 
characters in the UCA. For example, the UCA has the following sequence 
(abbreviated for illustration):</p>
<p class="changed">... a &lt;<sub>3</sub> ａ &lt;<sub>3</sub> ⓐ &lt;<sub>3</sub> 
A &lt;<sub>3</sub> Ａ &lt;<sub>3</sub> Ⓐ &lt;<sub>3</sub> ª &lt;<sub>2</sub> 
á &lt;<sub>3</sub> Á &lt;<sub>1</sub> æ &lt;<sub>3</sub> Æ &lt;<sub>1</sub> 
ɐ &lt;<sub>1</sub> ɑ &lt;<sub>1</sub> ɒ &lt;<sub>1</sub> b &lt;<sub>3</sub> 
ｂ &lt;<sub>3</sub> ⓑ &lt;<sub>3</sub> B &lt;<sub>3</sub> Ｂ &lt;<sub>3</sub> 
ℬ ...</p>
<p class="changed">Whenever a character is inserted into the UCA sequence, it is 
inserted at the first point where the strength difference will not disturb the 
other characters in the UCA. For example, &amp; a &lt; g puts <i>g</i> in the 
above sequence with a strength of L1. Thus the <i>g</i> must go in after any 
lower strengths,&nbsp; as follows:</p>
<p class="changed">... a &lt;<sub>3</sub> ａ &lt;<sub>3</sub> ⓐ &lt;<sub>3</sub> 
A &lt;<sub>3</sub> Ａ &lt;<sub>3</sub> Ⓐ &lt;<sub>3</sub> ª &lt;<sub>2</sub> 
á &lt;<sub>3</sub> Á <b><font color="#FF0000">&lt;<sub>1</sub> g </font></b>&lt;<sub>1</sub> 
æ &lt;<sub>3</sub> Æ &lt;<sub>1</sub> ɐ &lt;<sub>1</sub> ɑ &lt;<sub>1</sub> 
ɒ &lt;<sub>1</sub> b &lt;<sub>3</sub> ｂ &lt;<sub>3</sub> ⓑ &lt;<sub>3</sub> 
B &lt;<sub>3</sub> Ｂ &lt;<sub>3</sub> ℬ ...</p>
<p class="changed">The rule &amp; a &lt;&lt; g, which uses a level-2 strength, 
would produce the following sequence:</p>
<p class="changed">... a &lt;<sub>3</sub> ａ &lt;<sub>3</sub> ⓐ &lt;<sub>3</sub> 
A &lt;<sub>3</sub> Ａ &lt;<sub>3</sub> Ⓐ &lt;<sub>3</sub> ª <b><font color="#FF0000">&lt;<sub>2</sub> 
g</font></b> &lt;<sub>2</sub> á &lt;<sub>3</sub> Á<b><font color="#FF0000"> </font></b>&lt;<sub>1</sub> 
æ &lt;<sub>3</sub> Æ &lt;<sub>1</sub> ɐ &lt;<sub>1</sub> ɑ &lt;<sub>1</sub> 
ɒ &lt;<sub>1</sub> b &lt;<sub>3</sub> ｂ &lt;<sub>3</sub> ⓑ &lt;<sub>3</sub> 
B &lt;<sub>3</sub> Ｂ &lt;<sub>3</sub> ℬ ...</p>
<p class="changed">And the rule &amp; a &lt;&lt;&lt; g, which uses a level-3 
strength, would produce the following sequence:</p>
<p class="changed">... a <b><font color="#FF0000">&lt;<sub>3</sub> g</font></b> 
&lt;<sub>3</sub> ａ &lt;<sub>3</sub> ⓐ &lt;<sub>3</sub> A &lt;<sub>3</sub> 
Ａ &lt;<sub>3</sub> Ⓐ &lt;<sub>3</sub> ª &lt;<sub>2</sub> á &lt;<sub>3</sub> 
Á<b><font color="#FF0000"> </font></b>&lt;<sub>1</sub> æ &lt;<sub>3</sub> Æ 
&lt;<sub>1</sub> ɐ &lt;<sub>1</sub> ɑ &lt;<sub>1</sub> ɒ &lt;<sub>1</sub> b 
&lt;<sub>3</sub> ｂ &lt;<sub>3</sub> ⓑ &lt;<sub>3</sub> B &lt;<sub>3</sub> 
Ｂ &lt;<sub>3</sub> ℬ ...</p>
<p class="changed">Since resets always work on the existing state, the rule 
entries must be are in the proper order. A character or sequence may occur 
multiple times; each subsequent occurrence causes a different change. The 
following shows the result of serially applying a three rules.</p>
<table cellspacing="2" cellpadding="2" border="0">
  <tbody>
    <tr>
      <th valign="center" align="middle" bgcolor="#9999CC" class="changed">&nbsp;</th>
      <th valign="center" align="middle" bgcolor="#9999CC" class="changed">Rules 
        &nbsp;</th>
      <th valign="center" align="middle" bgcolor="#9999CC" class="changed">Result</th>
      <th valign="center" align="middle" bgcolor="#9999CC" class="changed">Comment 
        &nbsp;</th>
    </tr>
    <tr>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">1</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">&amp; a 
        &lt; g</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">... a<font color="#FF0000"> 
        &lt;<sub>1</sub> g</font> ...</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">Put g 
        after a.</td>
    </tr>
    <tr>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">2</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">&amp; a 
        &lt; h &lt; k</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">... a<font color="#FF0000"> 
        &lt;<sub>1</sub> h &lt;<sub>1</sub> k</font> &lt;<sub>1</sub> g ...</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">Now put h 
        and k after a (inserting before the g).</td>
    </tr>
    <tr>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">3</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">&amp; h 
        &lt;&lt; g</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">... a &lt;<sub>1</sub> 
        h<font color="#FF0000"> &lt;<sub>1</sub> g</font> &lt;<sub>1</sub> k ...</td>
      <td valign="top" align="left" bgcolor="#ccccff" class="changed">Now put g 
        after h (inserting before k).</td>
    </tr>
  </tbody>
</table>
<p class="changed">Notice that characters can occur multiple times, and thus 
override previous rules.</p>
<table>
  <caption>Specifying Collation Ordering</caption>
  <tbody>
    <tr>
      <th>Basic Symbol</th>
      <th>Basic Example</th>
      <th>XML Symbol</th>
      <th>XML Example</th>
      <th>Description</th>
    </tr>
    <tr>
      <td align="middle"><code>&amp; &nbsp;</code></td>
      <td><code>&amp; Z &nbsp;</code></td>
      <td><code>&lt;reset&gt;</code></td>
      <td><code>&lt;reset&gt;Z&lt;/reset&gt;</code></td>
      <td>Don't change the ordering of Z, but place subsequent characters 
        relative to it.</td>
    </tr>
    <tr>
      <td align="middle"><code>&lt; &nbsp;</code></td>
      <td><code>&amp; a<br>
        &lt; b &nbsp;</code></td>
      <td><code>&lt;p&gt;</code></td>
      <td><code>&lt;reset&gt;a&lt;reset&gt;<br>
        &lt;p&gt;b&lt;/p&gt;</code></td>
      <td>Make 'b' sort after 'a', as a <i>primary</i> (base-character) 
        difference</td>
    </tr>
    <tr>
      <td align="middle"><code>&lt;&lt; &nbsp;</code></td>
      <td><code>&amp; a<br>
        &lt;&lt; ä &nbsp;</code></td>
      <td><code>&lt;s&gt;</code></td>
      <td><code>&lt;reset&gt;a&lt;reset&gt;<br>
        &lt;s&gt;ä&lt;/s&gt;</code></td>
      <td>Make 'ä' sort after 'a' as a <i>secondary</i> (accent) difference</td>
    </tr>
    <tr>
      <td align="middle"><code>&lt;&lt;&lt; &nbsp;</code></td>
      <td><code>&amp; a<br>
        &lt;&lt;&lt; A &nbsp;</code></td>
      <td><code>&lt;t&gt;</code></td>
      <td><code>&lt;reset&gt;a&lt;reset&gt;<br>
        &lt;t&gt;A&lt;/t&gt;</code></td>
      <td>Make 'A' sort after 'a' as a <i>secondary</i> (accent) difference</td>
    </tr>
    <tr>
      <td align="middle"><code>= &nbsp;</code></td>
      <td><code>&amp; x<br>
        = y &nbsp;</code></td>
      <td><code>&lt;i&gt;</code></td>
      <td><code>&lt;reset&gt;v&lt;reset&gt;<br>
        &lt;i&gt;w&lt;/i&gt;</code></td>
      <td>Make 'w' sort <i>identically</i> to 'v'</td>
    </tr>
  </tbody>
</table>
<p>Resets only need to be at the start of a sequence, to position the characters 
relative a character that is in the UCA (or has already occurred in the 
tailoring). For example: 
&lt;reset&gt;z&lt;/reset&gt;&lt;p&gt;a&lt;/p&gt;&lt;p&gt;b&lt;/p&gt;&lt;p&gt;c&lt;/p&gt;&lt;p&gt;d&lt;/p&gt;.</p>
<p>Some additional elements are provided to save space with large tailorings. 
The addition of a 'c' to the element name indicates that each of the characters 
in the contents of that element are to be handled as if they were separate 
elements with the corresponding strength:</p>
<table>
  <caption>Abbreviating Ordering Specifications</caption>
  <tr>
    <th>XML Symbol</th>
    <th>XML Example</th>
    <th>Equivalent</th>
  </tr>
  <tr>
    <td><code>&lt;pc&gt;</code></td>
    <td>&lt;pc&gt;bcd&lt;/pc&gt;</td>
    <td><code>&lt;p&gt;b&lt;/p&gt;&lt;p&gt;c&lt;/p&gt;&lt;p&gt;d&lt;/p&gt;</code></td>
  </tr>
  <tr>
    <td><code>&lt;sc&gt;</code></td>
    <td>&lt;sc&gt;àáâã&lt;/sc&gt;</td>
    <td>&lt;s&gt;à&lt;/s&gt;&lt;s&gt;á&lt;/s&gt;&lt;s&gt;â&lt;/s&gt;&lt;s&gt;ã&lt;/s&gt;</td>
  </tr>
  <tr>
    <td><code>&lt;tc&gt;</code></td>
    <td>&lt;tc&gt;PｐＰ&lt;/tc&gt;</td>
    <td>&lt;t&gt;P&lt;/t&gt;&lt;t&gt;ｐ&lt;/t&gt;&lt;t&gt;Ｐ&lt;/t&gt;</td>
  </tr>
  <tr>
    <td><code>&lt;ic&gt;</code></td>
    <td>&lt;ic&gt;VwW&lt;/ic&gt;</td>
    <td>&lt;i&gt;V&lt;/i&gt;&lt;i&gt;w&lt;/i&gt;&lt;i&gt;W&lt;/i&gt;</td>
  </tr>
</table>
<h3><a name="Escaping_Characters">Escaping Characters</a></h3>
<p>Unfortunately, XML does not have the capability to contain all Unicode code 
points. Due to this, extra syntax is required to represent those code points 
that cannot be otherwise represented. This corresponds to the quoting mechanism 
used in the basic syntax. This also must be used where spaces are significant 
(otherwise they are stripped).</p>
<table>
  <caption>Excaping Characters</caption>
  <tbody>
    <tr>
      <th>Basic Example</th>
      <th>XML Example</th>
    </tr>
    <tr>
      <td><code>'\u0000'</code></td>
      <td><code>&lt;cp hex=&quot;0&quot;&gt;</code></td>
    </tr>
  </tbody>
</table>
<p class="note"><b>Note: </b>If XML 1.1 is approved in the current state, then 
this would not be necessary -- except for NULL (U+0000), which is typically 
never tailored.</p>
<h3><a name="Contractions">Contractions</a></h3>
<p>To sort a sequence as a single item (contraction), just use the sequence, 
e.g.</p>
<table>
  <caption>Specifying Contractions</caption>
  <tbody>
    <tr>
      <th>BASIC Example</th>
      <th>XML Example</th>
      <th>Description</th>
    </tr>
    <tr>
      <td><code>&amp; k<br>
        &lt; ch</code></td>
      <td><code>&lt;reset&gt;k&lt;reset&gt;<br>
        &lt;p&gt;ch&lt;/p&gt;</code></td>
      <td>Make the sequence 'ch' sort after 'k', as a primary (base-character) 
        difference</td>
    </tr>
  </tbody>
</table>
<h3><a name="Expansions">Expansions</a></h3>
<p>There are two ways to handle expansions (where a character sorts as a 
sequence) with both the basic syntax and the XML syntax. The first method is to 
reset to the sequence of characters. The second is to use the extension 
sequence. Both are equivalent in practice (unless the reset sequence happens to 
be a contraction).</p>
<table>
  <caption>Specifying Expansions</caption>
  <tbody>
    <tr>
      <th>Basic</th>
      <th>XML</th>
      <th>Description</th>
    </tr>
    <tr>
      <td><code>&amp; ch<br>
        &lt; k</code></td>
      <td><code>&lt;reset&gt;ch&lt;/reset&gt;<br>
        &lt;p&gt;k&lt;/p&gt;</code></td>
      <td>Make 'k' sort after the sequence 'ch'; thus 'k' will behave as if it 
        expands to a character after 'c' followed by an 'h'. (unless 'ch' is 
        defined beforehand as a contraction).</td>
    </tr>
    <tr>
      <td><code>&amp;&nbsp;c&nbsp;<br>
        &lt;&nbsp;k&nbsp;/&nbsp;h</code></td>
      <td><code>&lt;reset&gt;c&lt;/reset&gt;<br>
        &lt;p&gt;k&lt;extend&gt;h&lt;/extend&gt;&lt;/p&gt;</code></td>
      <td>Make 'k' sort after the sequence 'ch'; thus 'k' will behave as if it 
        expands to a character after 'c' followed by an 'h'.</td>
    </tr>
  </tbody>
</table>
<h3><a name="Context_Before">Context Before</a></h3>
<p>The context before a character can affect how it is ordered, such as in 
Japanese. This could be expressed with a combination of contractions and 
expansions, but is faster using a context. (The actual weights produced are 
different, but the resulting string comparisons are the same.)</p>
<table>
  <caption>Specifying Previous Context</caption>
  <tbody>
    <tr>
      <th>Basic</th>
      <th>XML</th>
    </tr>
    <tr>
      <td><code>&amp;[before 3] ァ<br>
        &lt;&lt;&lt; ァ|ー<br>
        = ｧ |ー<br>
        = ぁ|ー</code></td>
      <td><code>&lt;reset before=&quot;tertiary&quot;&gt;ァ&lt;/reset&gt;<br>
        &lt;s&gt;ァ&lt;context&gt;ー&lt;/context&gt;&lt;/s&gt;<br>
        &lt;i&gt;ｧ&lt;context&gt;ー&lt;/context&gt;&lt;/i&gt;<br>
        &lt;i&gt;ぁ&lt;context&gt;ー&lt;/context&gt;&lt;/i&gt;</code></td>
    </tr>
  </tbody>
</table>
<h3><a name="Placing_Characters_Before_Others">Placing Characters Before Others</a></h3>
<p>There are certain circumstances where characters need to be placed before a 
given character, rather than after. This is the case with Pinyin, for example, 
where certain accented letters are positioned before the base letter. That is 
accomplished with the following syntax.</p>
<table>
  <caption>Placing Characters <i>Before</i> Others</caption>
  <tbody>
    <tr>
      <th>Item</th>
      <th>Options</th>
      <th>Basic Example &nbsp;</th>
      <th>XML Example</th>
    </tr>
    <tr>
      <td>before&nbsp;</td>
      <td>primary<br>
        secondary<br>
        tertiary<br>
        identical</td>
      <td><code>&amp; [before 1] a<br>
        &lt;&lt; à</code></td>
      <td><code>&lt;reset before=&quot;primary&quot;&gt;a&lt;/reset&gt;<br>
        &lt;s&gt;à&lt;/s&gt;</code></td>
    </tr>
  </tbody>
</table>
<h3><a name="Logical_Reset_Positions">Logical Reset Positions</a></h3>
<p>The UCA has the following overall structure for weights, going from low to 
high.</p>
<table>
  <caption>Specifying Logical Positions</caption>
  <tbody>
    <tr>
      <th valign="top" align="middle" bgcolor="#ccccff">Name</th>
      <th valign="top" align="middle" bgcolor="#ccccff">Description</th>
      <th valign="top" align="middle" bgcolor="#ccccff">UCA Examples</th>
    </tr>
    <tr>
      <td>first&nbsp;tertiary&nbsp;ignorable<br>
        ...<br>
        last&nbsp;tertiary&nbsp;ignorable</td>
      <td>p, s, t = ignore</td>
      <td>Control Codes<br>
        Format Characters<br>
        Hebrew Points<br>
        Tibetan Signs<br>
        ...</td>
    </tr>
    <tr>
      <td>first&nbsp;secondary&nbsp;ignorable<br>
        ...<br>
        last&nbsp;secondary&nbsp;ignorable</td>
      <td>p, s = ignore</td>
      <td>None in UCA</td>
    </tr>
    <tr>
      <td>first&nbsp;primary&nbsp;ignorable<br>
        ...<br>
        last&nbsp;primary&nbsp;ignorable</td>
      <td>p = ignore</td>
      <td>Most combining marks</td>
    </tr>
    <tr>
      <td>first&nbsp;variable<br>
        ...<br>
        last&nbsp;variable</td>
      <td><i><b>if</b> alternate = non-ignorable<br>
        </i>p != ignore,<br>
        <i><b>if</b> alternate = shifted</i><br>
        p, s, t = ignore</td>
      <td>Whitespace,<br>
        Punctuation,<br>
        Symbols</td>
    </tr>
    <tr>
      <td>first&nbsp;non-ignorable<br>
        ...<br>
        last&nbsp;non-ignorable</td>
      <td>p != ignore</td>
      <td>Small number of exceptional symbols<br>
        [e.g. U+02D0 MODIFIER LETTER TRIANGULAR COLON]<br>
        Numbers<br>
        Latin<br>
        Greek<br>
        ...</td>
    </tr>
    <tr>
      <td><i>implicits</i></td>
      <td>p != ignore, assigned automatically</td>
      <td>CJK, CJK compatibility (those that are not decomposed)<br>
        CJK Extension A, B<br>
        Unassigned</td>
    </tr>
    <tr>
      <td>first&nbsp;trailing<br>
        ...<br>
        last&nbsp;trailing</td>
      <td>p != ignore,<br>
        used for trailing syllable components</td>
      <td>Jamo Trailing<br>
        Jamo Leading</td>
    </tr>
  </tbody>
</table>
<p>Each of the above Names (except <i>implicits</i>) can be used with a reset to 
position characters relative to that logical position. That allows characters to 
be ordered before or after a <i>logical</i> position rather than a specific 
character.</p>
<p class="note"><b><i>Note: </i></b>The reason for this is so that tailorings 
can be more stable. A future version of the UCA might add characters at any 
point in the above list. Suppose that you set character X to be after Y. It 
could be that you want X to come after Y, no matter what future characters are 
added; or it could be that you just want Y to come after a given logical 
position, e.g. after the last primary ignorable.</p>
<p>Here is an example of the syntax:</p>
<table>
  <caption>Sample Logical Position</caption>
  <tbody>
    <tr>
      <th>Basic</th>
      <th>XML</th>
    </tr>
    <tr>
      <td><code>&amp; [first tertiary ignorable]<br>
        &lt;&lt; à&nbsp;</code></td>
      <td><code>&lt;reset&gt;&lt;first_tertiary_ignorable/&gt;&lt;/reset&gt;<br>
        &lt;s&gt;à&lt;/s&gt;</code></td>
    </tr>
  </tbody>
</table>
<p>For example, to make a character be a secondary ignorable, one can make it be 
immediately after (at a secondary level) a specific character (like a combining 
dieresis), or one can make it be immediately after the last secondary ignorable.</p>
<p>The <i>last-variable</i> element indicates the &quot;highest&quot; character 
that is treated as punctuation with alternate handling. Unlike the other logical 
positions, it can be reset as well as referenced. For example, it can be reset 
to be just above spaces if all visible punctuation are to be treated as having 
distinct primary values.</p>
<table>
  <caption>Specifying Last-Variable</caption>
  <tr>
    <th>Attribute</th>
    <th>Options</th>
    <th>Basic Example &nbsp;</th>
    <th>XML Example</th>
  </tr>
  <tr>
    <td rowspan="3">variableTop</td>
    <td><font color="#000000">at</font></td>
    <td><code>&amp; x<br>
      = [last variable]</code></td>
    <td><code>&lt;reset&gt;x&lt;/reset&gt;<br>
      &lt;i&gt;&lt;last_variable/&gt;&lt;/i&gt;</code></td>
  </tr>
  <tr>
    <td><font color="#000000">after</font></td>
    <td><code>&amp; x<br>
      &lt; [last variable]</code></td>
    <td><code>&lt;reset&gt;x&lt;/reset&gt;<br>
      &lt;p&gt;&lt;last_variable/&gt;&lt;/p&gt;</code></td>
  </tr>
  <tr>
    <td><font color="#000000">before</font></td>
    <td><code>&amp; [before 1] x<br>
      &lt; [last variable]</code></td>
    <td><code>&lt;reset before=&quot;primary&quot;&gt;x&lt;/reset&gt;<br>
      &lt;p&gt;&lt;last_variable/&gt;&lt;/p&gt;</code></td>
  </tr>
</table>
<p>The default value for <i>variable-top</i> depends on the UCA setting. For 
example, in 3.1.1, the value is at:</p>
<blockquote>
  <p>U+1D7C3 MATHEMATICAL SANS-SERIF BOLD ITALIC PARTIAL DIFFERENTIAL</p>
</blockquote>
<h3><a name="Logical_Reset_Positions">Special-Purpose Commands</a></h3>
<p>The <i>suppress contractions</i> tailoring command turns off any existing 
contractions that begin with those characters. It is typically used to turn off 
the Cyrillic contractions in the UCA, since they are not used in many languages 
and have a considerable performance penalty. The argument is a Unicode Set, with 
syntax as in <a href="http://oss.software.ibm.com/icu/userguide/unicodeSet.html">UnicodeSet</a>.</p>
<p>The <i>optimize</i> tailoring command is purely for performance. It indicates 
that those characters are sufficiently common in the target language for the 
tailoring that their performance should be enhanced.</p>
<table>
  <caption>Special-Purpose Commands</caption>
  <tbody>
    <tr>
      <th>Basic</th>
      <th>XML</th>
    </tr>
    <tr>
      <td>[suppress contractions [Љ-ґ]]</td>
      <td>&lt;suppress_contractions&gt;[Љ-ґ]&lt;/suppressContractions</td>
    </tr>
    <tr>
      <td>[optimize [Ά-ώ]]</td>
      <td>&lt;optimize&gt;[Ά-ώ]&lt;/optimize&gt;</td>
    </tr>
  </tbody>
</table>
<br>
<hr width="50%">
<p class="example">Example:</p>
<p class="example">The following is a simple example that takes portions of the 
Swedish tailoring plus part of a Japanese tailoring, for illustration. For more 
complete examples, see the actual locale data: Japanese, Chinese, Swedish, 
Traditional German are particularly illustrative.</p>
<pre>&lt;collation&gt;
  &lt;base UCA='3.1.1'&gt;
&nbsp; &lt;settings caseLevel=&quot;on&quot;/&gt;
&nbsp; &lt;rules&gt;<font color="#00FF00">
</font>        &lt;reset&gt;Z&lt;/reset&gt;
        &lt;p&gt;æ&lt;/p&gt;
        &lt;t&gt;Æ&lt;/t&gt;
        &lt;p&gt;å&lt;/p&gt;
        &lt;t&gt;Å&lt;/t&gt;
        &lt;t&gt;aa&lt;/t&gt;
        &lt;t&gt;aA&lt;/t&gt;
        &lt;t&gt;Aa&lt;/t&gt;
        &lt;t&gt;AA&lt;/t&gt;
        &lt;p&gt;ä&lt;/p&gt;
        &lt;t&gt;Ä&lt;/t&gt;
        &lt;p&gt;ö&lt;/p&gt;
        &lt;t&gt;Ö&lt;/t&gt;
        &lt;s&gt;ű&lt;/s&gt;
        &lt;t&gt;Ű&lt;/t&gt;
        &lt;p&gt;ő&lt;/p&gt;
        &lt;t&gt;Ő&lt;/t&gt;
        &lt;s&gt;ø&lt;/s&gt;
        &lt;t&gt;Ø&lt;/t&gt;
        &lt;reset&gt;V&lt;/reset&gt;
        &lt;tc&gt;wW&lt;/tc&gt;
        &lt;reset&gt;Y&lt;/reset&gt;
        &lt;tc&gt;üÜ&lt;/tc&gt;
        &lt;reset&gt;&lt;last_non_ignorable/&gt;&lt;/reset&gt;
<font color="#00FF00">        &lt;!-- following is equivalent to &lt;p&gt;亜&lt;/p&gt;&lt;p&gt;唖&lt;/p&gt;&lt;p&gt;娃&lt;/p&gt;... --&gt;
</font>        &lt;pc&gt;亜唖娃阿哀愛挨姶逢葵茜穐悪握渥旭葦芦&lt;/pc&gt;
        &lt;pc&gt;鯵梓圧斡扱&lt;/pc&gt;
&nbsp; &lt;/rules&gt;
&lt;/collation&gt;</pre>
<h2>Appendix A: <a name="Sample_Special_Elements">Sample Special Elements</a></h2>
<p>The following are nonstandard elements provided as examples.</p>
<h3><a name="ICU">ICU</a></h3>
<p>There are three main areas where ICU has capabilies that go beyond what is 
shown above.</p>
<p class="element2"><a name="&lt;ruleBasedNumberFormat&gt;">&lt;ruleBasedNumberFormat&gt;</a></p>
<p>The rule-based number format (RBNF) encapsulates a set of rules for mapping 
binary numbers to and from a readable representation. They are typically used 
for spelling out numbers, but can also be used for other number systems like 
roman numerals, or for ordinal numbers (1<sup>st</sup>, 2<sup>nd</sup>, 3<sup>rd</sup>,...). 
The rules are fairly sophisticated; for details see <a href="http://oss.software.ibm.com/icu/apiref/classRuleBasedNumberFormat.html#_details">Rule-Based 
Number Format</a>.</p>
<p class="example">Example:</p>
<pre>&lt;special xmlns=&quot;http://oss.software.ibm.com/icu&quot;&gt;
  &lt;ruleBasedNumberFormats&gt;
    &lt;ruleBasedNumberFormat type=&quot;spellout&quot;&gt;
                %%and:
                    and =%default=;
                    100: =%default=;
                %%commas:
                    ' and =%default=;
                    100: , =%default=;
                    1000: , 
    &lt;/ruleBasedNumberFormat&gt;
    &lt;ruleBasedNumberFormat type=&quot;ordinal&quot;&gt;
                %main:
                    =#,##0==%%abbrev=;
                %%abbrev:
                    th; st; nd; rd; th;
                    20: &amp;gt;&amp;gt;;
                    100: &amp;gt;&amp;gt;;
    &lt;/ruleBasedNumberFormat&gt;
    &lt;ruleBasedNumberFormat type=&quot;duration&quot;&gt;
            %with-words:
                0 seconds; 1 second; =0= seconds;
                60/60: 
    &lt;/ruleBasedNumberFormat&gt;
  &lt;/special&gt;
</pre>
<h3><a name="&lt;boundaries&gt;">&lt;boundaries&gt;</a></h3>
<p>Boundaries provide rules for grapheme-cluster (&quot;user-character&quot;), 
word, line, and sentence breaks. This format is the Java/ICU syntax, at the top 
level. For a description of that, see <a href="http://oss.software.ibm.com/icu/docs/papers/RBBI-rule-syntax.html">RBBI 
Rule Syntax</a>. (The format will be moved into the ICU User Guide soon.) The 
enclosing special element is a sub-element of &lt;localeData&gt;.</p>
<pre>&lt;localeData&gt;
...
  &lt;special xmlns=&quot;http://oss.software.ibm.com/icu&quot;&gt;
    &lt;boundaries&gt;
      &lt;grapheme class=&quot;RuleBased&quot; append=&quot;true&quot;&gt;
        <span class="comment">&lt;!-- in addition to the normal rules, treat CH and RR as graphemes. --&gt;</span>
        [cC][hH];[rR][rR];
      &lt;/grapheme&gt;
      &lt;word class=&quot;Dictionary&quot; import=&quot;thaiDict.dat&quot; append=&quot;true&quot;&gt;
<span class="comment">        &lt;!-- When doing Thai word break, check the normal word break rules first. --&gt;
</span>        digit=[[:Nd:][:No:]];
        $digit [[:Pd:]­‧&amp;apos;.]
      &lt;/word&gt;
    &lt;/boundaries&gt;
  &lt;/special&gt;
&lt;/localeData&gt;</pre>
<h3><a name="&lt;transforms&gt;">&lt;transforms&gt;</a></h3>
<p>There may be language-specific transformations, typically used in locale data 
for transliterations. Such transformations require far more than a simple list 
of matching characters, since the matches are highly context-sensitive. Each 
such transform is supplied in a &lt;transform&gt; element. The contents of the 
transform element is a list of rules, as described in the ICU documentation for <a href="http://oss.software.ibm.com/icu/userguide/Transliteration.html">Transforms</a>. 
The enclosing special element is a sub-element of &lt;localeData&gt;. The target 
value is either a script (long or short name) or a locale id.</p>
<p class="note">Note: there is an on-line demonstration of transforms at <a href="http://oss.software.ibm.com/cgi-bin/icu/tr">Transforms 
Demo.</a></p>
<p class="example">Example: The following is an abbreviated example for Greek to 
Latin, in a Greek locale. The target value can be a script ID or a locale ID.</p>
<pre>&lt;localeData&gt;
...
  &lt;special xmlns=&quot;http://oss.software.ibm.com/icu&quot;&gt;
    &lt;transforms&gt;
      &lt;transform type=&quot;Latin&quot;&gt;</pre>
<blockquote>
  <pre>::NFD (NFC) ; # convert everything to decomposed for simplicity
...
α <font size="4">↔</font> a ;  Α <font size="4">↔</font> A ;
β <font size="4">↔</font> v ;  Β <font size="4">↔</font> V ;
γ } $gammaLike <font size="4">↔</font> n } $egammaLike ;
Γ } $gammaLike <font size="4">↔</font> N } $egammaLike ;
γ <font size="4">↔</font> g ;  Γ <font size="4">↔</font> G ;
δ <font size="4">↔</font> d ;  Δ <font size="4">↔</font> D ;
ε <font size="4">↔</font> e ;  Ε <font size="4">↔</font> E ;
ζ <font size="4">↔</font> z ;  Ζ <font size="4">↔</font> Z ;
Θ } $beforeLower <font size="4">↔</font> Th ;
θ <font size="4">↔</font> th ;  Θ <font size="4">↔</font> TH ;
ι <font size="4">↔</font> i ;  Ι <font size="4">↔</font> I ;
κ <font size="4">↔</font> k ;  Κ <font size="4">↔</font> K ;
λ <font size="4">↔</font> l ;  Λ <font size="4">↔</font> L ;
μ <font size="4">↔</font> m ; Μ <font size="4">↔</font> M ;
ν } $gammaLike <font size="4">→</font> n\' ;
Ν } $gammaLike <font size="4">↔</font> N\' ;
ν <font size="4">↔</font> n ; Ν <font size="4">↔</font> N ;
...
::NFC (NFD) ; # convert back to composed</pre>
</blockquote>
<pre>      &lt;/transform&gt;
    &lt;/transforms&gt;
  &lt;/special&gt;
&lt;/localeData&gt;</pre>
<h3><a name="OpenOffice">openoffice.org</a></h3>
<p>A number of the elements above can have extra information for openoffice.org, 
such as the following example:</p>
<pre>&lt;numberFormat type=&quot;currency&quot;&gt;
  &lt;special xmlns=&quot;http://www.openoffice.org&quot; msgid=&quot;FixedFormatstype9&quot; usage=&quot;FIXED_NUMBER&quot; formatindex=&quot;4&quot; /&gt;
  &lt;pattern type=&quot;positive&quot;&gt;<font size="4">¤</font> #,##0.00;&lt;/pattern&gt;
  &lt;pattern type=&quot;negative&quot;&gt;(<font size="4">¤</font> #,##0.00)&lt;/pattern&gt;
&lt;/numberFormat&gt;</pre>
<h3><a name="POSIX">POSIX</a></h3>
<p>This is a sample of old POSIX abbreviations for pre-GUI days:</p>
<pre>&lt;localeData&gt;
...
  &lt;special xmlns=&quot;http://www.opengroup.org/regproducts/xu.htm&quot;&gt;
    &lt;messages&gt;
      &lt;no&gt;No&lt;/no&gt;
      &lt;yes&gt;Yes&lt;/yes&gt;
      &lt;shortYes&gt;Y&lt;/shortYes&gt;
      &lt;shortNo&gt;N&lt;/shortNo&gt;
    &lt;/messages&gt;
  &lt;/special&gt;
&lt;/localeData&gt;</pre>
<h3><a name="ISO_TR_14652">ISO TR 14652</a></h3>
<p>The following is <a href="http://anubis.dkuug.dk/jtc1/sc22/wg20/docs/n897-14652w25.pdf">ISO 
TR 14652</a> compatibility data. This section is here because portions of TR 
14652 data may used in LINUX distributions and other systems.</p>
<p class="note">Note: 14652 is a Type 1 TR: &quot;when the required support 
cannot be obtained for the publication of an International Standard, despite 
repeated effort&quot;. See the ballot comments on <a href="http://anubis.dkuug.dk/jtc1/sc22/wg20/docs/n948-J1N6769-14652.pdf">14652 
Comments</a> for details on the 14652 defects. For example, most of these 
patterns make little provision for substantial changes in format when elements 
are empty, so are not particularly useful in practice. Compare, for example, the 
mail-merge capabilities of production software such as Microsoft Word or 
OpenOffice.</p>
<p class="example">Examples:</p>
<pre>&lt;localeData&gt;
...
  &lt;special xmlns=&quot;http://anubis.dkuug.dk/jtc1/sc22/wg20/docs/n897-14652w25.pdf&quot;&gt;
    &lt;iso14652&gt;
            &lt;addressFormat&gt;
                &lt;postalPattern&gt;&quot;%n%N%a%N%d%N%f%N%b%N%h %s%N%e %r%N%l%N%C-%z %T%, %S %z%N%c%N&quot;&lt;/postalPattern&gt;
            &lt;/addressFormat&gt;

            &lt;nameFormat&gt;
                &lt;namePattern&gt;%p%t%g%m%t%f&lt;/namePattern&gt;
                &lt;generalSalutation&gt;&lt;/generalSalutation&gt;
                &lt;shortSalutationMr&gt; Mr.&lt;/shortSalutationMr&gt;
                &lt;shortSalutationMiss&gt;Ms.&lt;/shortSalutationMiss&gt;
                &lt;shortSalutationMrs&gt;Mrs.&lt;/shortSalutationMrs&gt;
                &lt;longSalutationMr&gt; Mister.&lt;/longSalutationMr&gt;
                &lt;longSalutationMiss&gt;Miss&lt;/longSalutationMiss&gt;
                &lt;longSalutationMrs&gt;Mrs.&lt;/longSalutationMrs&gt;
            &lt;/nameFormat&gt;

            &lt;identification&gt;
                &lt;!-- Identification of the person who produced the data file. --&gt;
                &lt;title&gt;&lt;/title&gt;
                &lt;source&gt;&lt;/source&gt;
                &lt;address&gt;&lt;/address&gt;
                &lt;contact&gt;&lt;/contact&gt;
                &lt;email&gt;&lt;/email&gt;
                &lt;telephone&gt;&lt;/telephone&gt;
                &lt;fax&gt;&lt;/fax&gt;
                &lt;languageUsed&gt;&lt;/languageUsed&gt;
                &lt;country&gt;&lt;/country&gt;
                &lt;audience&gt;&lt;/audience&gt;
                &lt;application&gt;&lt;/application&gt;
                &lt;abbreviation&gt;&lt;/abbreviation&gt;
                &lt;revision&gt;&lt;/revision&gt;
                &lt;date&gt;&lt;/date&gt;
            &lt;/identification&gt;

            &lt;telephoneFormat&gt;
                &lt;internationalPattern&gt;<font face="Courier" size="1">+%c (%a)%t-%l</font>&lt;/internationalPattern&gt;
                &lt;domesticPattern&gt;<font face="Courier" size="1">(%a)%t-%l</font>&lt;/domesticPattern&gt;
                &lt;internationalDialCode&gt;001 &lt;/internationalDialCode&gt;
                &lt;internationalPrefix&gt; &lt;/internationalPrefix&gt;
            &lt;/telephoneFormat&gt;

            &lt;countryInfo&gt;
              &lt;countryPost&gt;US&lt;/countryPost&gt;
              &lt;countryCar&gt;US&lt;/countryCar&gt;
              &lt;countryNumber type=&quot;666&quot;/&gt;
              &lt;countryISBNNumber type=&quot;666&quot;/&gt;
            &lt;/countryInfo&gt;
    &lt;/iso14652&gt;
  &lt;/special&gt;
&lt;localeData&gt;</pre>
<h2>Appendix B: <a name="Transmitting_Locale_Information">Transmitting Locale 
Information</a></h2>
<p>In a world of on-demand software components, with arbitrary connections 
between those components, it is important to get a sense of where localization 
should be done, and how to transmit enough information so that it can be done at 
that appropriate place. End-users need to get messages localized to their 
languages, messages that not only contain a translation of text, but also 
contain variables such as date, time, number formats, and currencies formatted 
according to the users' conventions. The strategy for doing the so-called <i>JIT 
localization </i>is made up of two parts:</p>
<ol>
  <li>Store and transmit <i>neutral-format</i> data wherever possible.
    <ul>
      <li>Neutral-format data is data that is kept in a standard format, no 
        matter what the local user's environment is. Neutral-format is also 
        (loosely) called <i>binary data</i>, even though it actually could be 
        represented in many different ways, including a textual representation 
        such as in XML.
      <li>Such data should use accepted standards where possible, such as for 
        currency codes.
      <li>Textual data should also be in a uniform character set (Unicode/10646) 
        to avoid possible data corruption problems when converting between 
        encodings.</li>
    </ul>
  <li>Localize that data as &quot;<i>close</i>&quot; to the end-user as 
    possible.</li>
</ol>
<p>There are a number of advantages to this strategy. The longer the data is 
kept in a neutral format, the more flexible the entire system is. On a practical 
level, if transmitted data is neutral-format, then it is much easier to 
manipulate the data, debug the processing of the data, and maintain the software 
connections between components.</p>
<p>Once data has been localized into a given language, it can be quite difficult 
to programmatically convert that data into another format, if required. This is 
especially true if the data contains a mixture of translated text and formatted 
variables. Once information has been localized into, say, Romanian, it is much 
more difficult to localize that data into, say, French. Parsing is more 
difficult than formatting, and may run up against different ambiguities in 
interpreting text that has been localized, even if the original translated 
message text is available (which it may not be).</p>
<p>Moreover, the closer we are to end-user, the more we know about that user's 
preferred formats. If we format dates, for example, at the user's machine, then 
it can easily take into account any customizations that the user has specified. 
If the formatting is done elsewhere, either we have to transmit whatever user 
customizations are in play, or we only transmit the user's locale code, which 
may only approximate the desired format. Thus the closer the localization is to 
the end user, the less we need to ship all of the user's preferences arond to 
all the places that localization could possibly need to be done.</p>
<p>Even though localization should be done as close to the end-user as possible, 
there will be cases where different components need to be aware of whatever 
settings are appropriate for doing the localization. Thus information such as a 
locale code or timezone needs to be communicated between different components.</p>
<h3><a name="Message_Formatting_and_Exceptions">Message Formatting and 
Exceptions</a></h3>
<p>Windows (<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wcesdkr/htm/_wcesdk_win32_FormatMessage.asp">FormatMessage</a>, 
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/cpref/html/frlrfsystemstringclassformattopic1.asp">String.Format</a>), 
Java (<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/text/MessageFormat.html">MessageFormat</a>) 
and ICU (<a href="http://oss.software.ibm.com/icu/apiref/classMessageFormat.html">MessageFormat</a>, 
<a href="http://oss.software.ibm.com/icu/apiref/umsg_8h.html">umsg</a>) all 
provide methods of formatting variables (dates, times, etc) and inserting them 
at arbitrary positions in a string. This avoids the manual string concatenation 
that causes severe problems for localization. The question is, where to do this? 
It is especially important since the original code site that originates a 
particular message may be far down in the bowels of a component, and passed up 
to the top of the component with an exception. So we will take that case as 
representative of this class of issues.</p>
<p>There are circumstances where the message can be communicated with a 
language-neutral code, such as a numeric error code or mnemonic string key, that 
is understood outside of the component. If there are arguments that need to 
accompany that message, such as a number of files or a datetime, those need to 
accompany the numeric code so that when the localization is finally at some 
point, the full information can be presented to the end-user. This is the best 
case for localization.</p>
<p>More often, the exact messages that could originate from within the component 
are not known outside of the component itself; or at least they may not be known 
by the component that is finally displaying text to the user. In such a case, 
the information as to the user's locale needs to be communicated in some way to 
the component that is doing the localization. That locale information does not 
necessarily need to be communicated deep within the component; ideally, any 
exceptions should bundle up some language-neutral message ID, plus the arguments 
needed to format the message (e.g. datetime), but not do the localization at the 
throw site. This approach has the advantages noted above for JIT localization.</p>
<p>In addition, exceptions are often caught at a higher level; they don't end up 
being displayed to any end-user at all. By avoiding the localization at the 
throw site, it the cost of doing formatting, when that formatting is not really 
necessary. In fact, in many running programs most of the exceptions that are 
thrown at a low level never end up being presented to an end-user, so this can 
have considerable performance benefits.</p>
<h2 class="noStyle">Appendix C: <a name="Supplemental_Data">Supplemental Data</a></h2>
<p class="noStyle">The following represents the format for supplemental 
information. This is information that is important for proper formatting, but is 
not contained in the locale hierarchy, and is not overridden by locale data. It 
uses the following format, where the data is solely for illustration:</p>
<pre class="noStyle">&lt;supplementalData&gt;
  &lt;currencyData&gt;
    &lt;fractions&gt;
      &lt;currency iso4217=&quot;CHF&quot; rounding=&quot;5&quot;/&gt;
      &lt;currency iso4217=&quot;ITL&quot; digits=&quot;0&quot;/&gt;
      &lt;currency iso4217=&quot;FOO&quot; digits=&quot;0&quot; rounding=&quot;5&quot;/&gt;
    &lt;/fractions&gt;
    &lt;region iso3166=&quot;IT&quot;&gt; &lt;!-- Italy --&gt;
      &lt;currency iso4217=&quot;EUR&quot;/&gt;
      &lt;currency iso4217=&quot;EUR&quot; before=&quot;2002-01-01&quot;&gt;
        &lt;alternate iso4217=&quot;ITL&quot;/&gt;
      &lt;/currency&gt;
      &lt;currency iso4217=&quot;ITL&quot; before=&quot;2000-01-01&quot;/&gt;
    &lt;/region&gt;
    &lt;region iso3166=&quot;ET&quot;&gt; &lt;!-- Ethiopia --&gt;
       ...
      &lt;region iso4217=&quot;ITL&quot; before=&quot;1945-03-01&quot;/&gt; 
    &lt;/region&gt;
    &lt;region iso3166=&quot;DE&quot;&gt; &lt;!-- Germany --&gt;
      &lt;currency iso4217=&quot;EUR&quot;/&gt;
       ...
    &lt;/region&gt;
    &lt;region iso3166=&quot;US&quot;&gt; &lt;!-- USA --&gt;
      &lt;currency iso4217=&quot;USD&quot;/&gt;
    &lt;/region&gt;
    &lt;region iso3166=&quot;EC&quot;&gt; &lt;!-- Ecuador --&gt;
      &lt;currency iso4217=&quot;USD&quot;/&gt;
      &lt;currency iso4217=&quot;ECS&quot; before=&quot;2000-01-01&quot;/&gt;
       ...
    &lt;/region&gt;
    &lt;region iso3166=&quot;CH&quot;&gt; &lt;!-- Switzerland --&gt;
      &lt;currency iso4217=&quot;CHF&quot;/&gt;
    &lt;/region&gt;
  &lt;/currencyData&gt;
&lt;/supplementalData&gt;</pre>
<p class="noStyle">The only data currently represented is currency data. Each 
currencyData element contains one fractions element followed by one or more 
region elements. The fractions element contains any number of currency elements, 
with the following attributes:</p>
<ul>
  <li>
    <p class="noStyle"><b>iso4217: </b>the ISO 4217 code for the currency in 
    question. If a particular currency does not occur in the fractions list, 
    then it is given the defaults listed for the next two attributes.</li>
  <li>
    <p class="noStyle"><b>digits: </b>the number of decimal digits normally 
    formatted. The default is 2.</li>
  <li>
    <p class="noStyle"><b>rounding: </b>the rounding increment, in units of 10<sup>-digits</sup>. 
    The default is 1. Thus with fraction digits of 2 and rounding increment of 
    5, numeric values are rounded to the nearest 0.05 units in formatting. With 
    fraction digits of 0 and rounding increment of 50, numeric values are 
    rounded to the nearest 50.</li>
</ul>
<p class="noStyle">Each region element contains one attribute:</p>
<ul>
  <li>
    <p class="noStyle"><b>iso3166:</b> the ISO 3166 code for the region in 
    question. The special value <i>XXX</i> can be used to indicate that the 
    region has no valid currency or that the circumstances are unknown (usually 
    used in conjunction with <i>before</i>, as described below).</li>
</ul>
<p class="noStyle">And can have any number of currency elements, with the 
following attributes. (Each currency element can also contain zero or more 
alternate elements. These are a list of alternate currencies, in preference 
order.)</p>
<ul>
  <li>
    <p class="noStyle"><b>iso4217: </b>the ISO 4217 code for the currency in 
    question</li>
  <li>
    <p class="noStyle"><b>before: </b>the currency was valid up to the datetime 
    indicated by the value of <i>before</i>. The datetime is defined as in XML 
    Schema. The before values are resolved as described below.</li>
</ul>
<p class="noStyle">Each <i>before</i> value governs the time up to the previous <i>before</i> 
value. That is, suppose that we have the following data for the region code <i>R</i>.</p>
<pre class="noStyle">  &lt;region iso3166=&quot;R&quot;&gt;
    &lt;currency iso4217=&quot;C01&quot; before=&quot;1942&quot;/&gt;
    &lt;currency iso4217=&quot;C02&quot;/&gt;
    &lt;currency iso4217=&quot;C03&quot; before=&quot;1927&quot;/&gt;
    &lt;currency iso4217=&quot;none&quot; before=&quot;1937-02-13&quot;/&gt;
  &lt;/region&gt;</pre>
<p class="noStyle">Logically, the currency elements are treated in sorted order, 
according to the <i>before</i> value. If default value for the before element is 
logically +∞. This results in the following mapping for region <i>R</i>, using 
a set of half-open intervals:</p>
<div align="center">
  <center>
  <table border="1">
    <tr>
      <th>
        <p class="noStyle">Currency</p>
      </th>
      <th colspan="3">
        <p class="noStyle">Condition (based on time <i>t</i>)</p>
      </th>
    </tr>
    <tr>
      <td align="center">
        <p class="noStyle">C02</p>
      </td>
      <td align="right">
        <p class="noStyle">1942-01-01 00:00:00 GMT</p>
      </td>
      <td>
        <p class="noStyle">≤ t ≤</p>
      </td>
      <td>
        <p class="noStyle">+∞</p>
      </td>
    </tr>
    <tr>
      <td align="center">
        <p class="noStyle">C01</p>
      </td>
      <td align="right">
        <p class="noStyle">1937-02-13 00:00:00 GMT</p>
      </td>
      <td>
        <p class="noStyle">≤ <i>t</i> &lt;</p>
      </td>
      <td>
        <p class="noStyle">1942-01-01 00:00:00 GMT</p>
      </td>
    </tr>
    <tr>
      <td align="center">
        <p class="noStyle">C03</p>
      </td>
      <td align="right">
        <p class="noStyle">1927-01-01 00:00:00 GMT</p>
      </td>
      <td>
        <p class="noStyle">≤ <i>t</i> &lt;</p>
      </td>
      <td>
        <p class="noStyle">1937-02-13 00:00:00 GMT</p>
      </td>
    </tr>
    <tr>
      <td align="center">
        <p class="noStyle"><i>XXX</i></p>
      </td>
      <td align="right">
        <p class="noStyle">-∞</p>
      </td>
      <td>
        <p class="noStyle">≤ <i>t</i> &lt;</p>
      </td>
      <td>
        <p class="noStyle">1927-01-01 00:00:00 GMT</p>
      </td>
    </tr>
  </table>
  </center>
</div>
<p class="note"><b>Open issue: </b>We should supply information for mapping 
locales to a normalized version, thus en_Latin_US would normalize to en_US.</p>
<h2 class="noStyle">Appendix D: <a name="Language_and_Locale_IDs">Language and 
Locale IDs</a></h2>
<p class="noStyle">People have very slippery notions of what distinguishes a 
language code vs. a locale code. The problem is that both are somewhat nebulous 
concepts.</p>
<p class="noStyle">In practice, many people use RFC 3066 codes to mean locale 
codes instead of strictly language codes. It is easy to see why this came about; 
because RFC 3066 includes an explicit region (territory) code, for most people 
it was sufficient for use as a locale code as well. For example, when typical 
web software receives an RFC 3066 code, it will use it as a locale code. Other 
typical software will do the same: in practice, language codes and locale codes 
are treated interchangeably. Some people recommend distinguishing on the basis 
of &quot;-&quot; vs &quot;_&quot; (e.g. <i>zh-TW</i> for language code, <i>zh_TW</i> 
for locale code), but in practice that does not work because of the free 
variation out in the world in the use of these separators. Notice that Windows, 
for example, uses &quot;-&quot; as a separator in its locale codes. So 
pragmatically one is forced to treat &quot;-&quot; and &quot;_&quot; as 
equivalent when interpreting either one on imput.</p>
<p class="noStyle">Another reason for the conflation of these codes is that very 
little data in most systems is distinguished by region alone; currency codes and 
measurement systems being some of the few. Sometimes date or number formats are 
mentioned as regional, but that really doesn't make much sense. If people see 
the sentence &quot;You will have to adjust the value to १,२३४.५६७ 
from ૭૧,૨૩૪.૫૬&quot; (using Indic digits), they would say that 
sentence is simply not English. Number format is far more closely associated 
with language than it is with region. The same is true for date formats: people 
would never expect to see intermixed a date in the format &quot;2003年4月1日&quot; 
(using Kanji) in text purporting to be purely English. There are regional 
differences in date and number format — differences which can be important — 
but those are different in kind than other language differences between regions.</p>
<p class="noStyle">Notice also that currency <i>codes</i> are different than 
currency <i>localizations</i>. The currency localizations should normally be in 
the language-based resource bundles, not in the territory-based resource 
bundles. Thus, the resource bundle <i>en</i> contains the localized mappings in 
English for a range of different currency codes: USD =&gt; $, RUR =&gt; Rub, 
etc. (In protocols, the currency codes should always accompany any currency 
amounts; otherwise the data is ambiguous, and software is forced to use the 
user's territory to guess at the currency. For some informal discussion of this, 
see <a href="http://oss.software.ibm.com/cvs/icu/~checkout~/icuhtml/design/jit_localization.html">JIT 
Localization</a>.)</p>
<h3 class="noStyle"><a name="Written_Language">Written Language</a></h3>
<p class="noStyle">Criteria for what makes a written language should be purely 
pragmatic; <i>what would copy-editors say? </i>If one gave them text like the 
following, they would respond that is far from acceptable English for 
publication, and ask for it to be redone:</p>
<ol>
  <li type="A">
    <p class="noStyle">&quot;Theatre Center News: The date of the last version 
    of this document was 2003年3月20日. A copy can be obtained for $50,0 or 
    1.234,57 грн. We would like to acknowledge contributions by the following 
    authors (in alphabetical order): Alaa Ghoneim, Behdad Esfahbod, Ahmed 
    Talaat, Eric Mader, Asmus Freytag, Avery Bishop, and Doug Felt.&quot;</p>
  </li>
</ol>
<p class="noStyle">So one would change it to either B or C below, depending on 
which orthographic variant of English was the target for the publication:</p>
<ol type="A" start="2">
  <li>
    <p class="noStyle">&quot;Theater Center News: The date of the last version 
    of this document was 3/20/2003. A copy can be obtained for $50.00 or 
    1,234.57 Ukrainian Hryvni. We would like to acknowledge contributions by the 
    following authors (in alphabetical order): Alaa Ghoneim, Ahmed Talaat, Asmus 
    Freytag, Avery Bishop, Behdad Esfahbod, Doug Felt, Eric Mader.&quot;</p>
  <li>
    <p class="noStyle">&quot;Theatre Centre News: The date of the last version 
    of this document was 20/3/2003. A copy can be obtained for $50.00 or 
    1,234.57 Ukrainian Hryvni. We would like to acknowledge contributions by the 
    following authors (in alphabetical order): Alaa Ghoneim, Ahmed Talaat, Asmus 
    Freytag, Avery Bishop, Behdad Esfahbod, Doug Felt, Eric Mader.&quot;</p>
  </li>
</ol>
<p class="noStyle">Clearly there are many acceptable variations on this text. 
For example, copy editors might still quibble with the use of first vs. last 
name sorting in the list, but clearly the first list was <i>not</i> acceptable 
English alphabetical order. And in quoting a name, like &quot;Theatre Centre 
News&quot;, one may leave it in the source orthography even if it differs from 
the publication target orthography. And so on. However, just as clearly, there 
limits on what is acceptable English, and &quot;2003年3月20日&quot;, for 
example, is <i>not</i>.</p>
<h2 class="changed"><a name="Copyright_and_Permission_Notice">Copyright and 
Permission Notice</a></h2>
<blockquote>
  <p class="changed">Copyright (c) 2002-2003 International Business Machines 
  Corporation and others. All rights reserved.</p>
  <p class="changed">Permission is hereby granted, free of charge, to any person 
  obtaining a copy of the LDML format and associated documentation files (the 
  &quot;Format&quot;), to deal in the Format without restriction, including 
  without limitation the rights to use, copy, modify, merge, publish, 
  distribute, and/or sell copies of the Format, and to permit persons to whom 
  the Format is furnished to do so, provided that both the above copyright 
  notice(s) and this permission notice appear in supporting documentation.</p>
  <p class="changed">THE FORMAT IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY 
  OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
  OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF 
  THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR HOLDERS INCLUDED 
  IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY SPECIAL INDIRECT OR 
  CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, 
  DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER 
  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE 
  OF THIS FORMAT.</p>
  <p class="changed">Except as contained in this notice, the name of a copyright 
  holder shall not be used in advertising or otherwise to promote the sale, use 
  or other dealings in this Format without prior written authorization of the 
  copyright holder.</p>
  <hr width="33%">
  <p class="changed">All trademarks and registered trademarks mentioned herein 
  are the property of their respective owners.</p>
</blockquote>

</body>

</html>
